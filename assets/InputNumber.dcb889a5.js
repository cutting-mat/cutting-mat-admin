import{n}from"./index.dd498c01.js";import"./ui.9b8b7178.js";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-input",{attrs:{value:e.myValue,placeholder:e.placeholder,disabled:e.disabled,size:e.size,readonly:e.readonly},on:{input:e.handleInput,change:function(a){return e.handleChange(a,!0)}}},[i("template",{slot:"prepend"},[e._t("prepend")],2),i("template",{slot:"append"},[e._t("append")],2)],2)},o=[];const u={name:"input-number",model:{prop:"value",event:"change"},props:{value:{type:[String,Number],required:!1,default:""},min:{type:Number,required:!1,default:-1/0},max:{type:Number,required:!1,default:1/0},precision:{type:Number,required:!1,default:0},round:{type:Boolean,required:!1,default:!1},zeroFill:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:"\u8BF7\u8F93\u5165"},disabled:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:""},readonly:{type:Boolean,required:!1,default:!1}},data(){return{myValue:null}},watch:{value:{handler(e){let t=e;isNaN(parseFloat(t))||(t<this.min&&this.myValue!==""&&(t=this.min),t>this.max&&(t=this.max)),this.myValue=t},immediate:!0},myValue:{handler(){this.$emit("change",this.myValue)},immediate:!0}},methods:{fillZero(e){if(e==null||e==="")return null;const t=this.precision;if(e.split&&this.zeroFill&&t>0){const i=e.indexOf(".");let a;i===-1?(a=t,e+="."):a=t-(e.length-1-i);for(let l=0;l<a;l++)e+="0"}return e},handleChange(){let e=this.myValue;e<this.min&&this.myValue!==""&&(e=this.min),e>this.max&&(e=this.max),this.myValue=this.retainDecimal(e,this.precision),this.zeroFill&&this.precision>0&&this.$nextTick(()=>{this.myValue=this.fillZero(this.myValue)})},handleInput(e){if(e==null)return null;this.myValue=e.toString().trim().replace(/[^\d.-]/g,"").replace(/\./,"$#$").replace(/\./g,"").replace("$#$",".").replace(/^-/,"$#$").replace(/-/g,"").replace("$#$","-")},retainDecimal(e,t){if(t<0&&(t=0),e.split&&e.indexOf(".")===e.length-1&&t>0||e.split&&e.indexOf("-")===e.length-1)return e;if(isNaN(parseFloat(e)))return null;let i;return this.round?i=Math.round(Math.round(parseFloat(e)*Math.pow(10,t)))/Math.pow(10,t):i=Math.floor(Math.round(parseFloat(e)*Math.pow(10,t)))/Math.pow(10,t),i=i.toString(),i}}},r={};var p=n(u,s,o,!1,d,"86112852",null,null);function d(e){for(let t in r)this[t]=r[t]}var m=function(){return p.exports}();export{m as default};
