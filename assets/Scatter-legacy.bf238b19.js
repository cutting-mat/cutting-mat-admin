!function(){var t=document.createElement("style");t.innerHTML=".widget-chart-line[data-v-9bb8a6cd]{width:100%;height:100%}.demo[data-v-993984db]{height:300px}\n",document.head.appendChild(t),System.register(["./variate-legacy.a7751ef0.js","./index-legacy.3a0a0cf0.js","./points-legacy.c1d1cb12.js","./index-legacy.59518c2e.js","./ui-legacy.ce9474e5.js","./axisAlignTicks-legacy.54a62d80.js"],(function(t){"use strict";var e,a,r,n,i,o,s,h,l,u,c,p,d,f,y,g,m,v,_,x;return{setters:[function(t){e=t._,a=t.e,r=t.aG,n=t.P,i=t.G,o=t.c,s=t.p,h=t.u,l=t.V,u=t.W,c=t.X,p=t.Y},function(t){d=t.n},function(t){f=t.c,y=t.p,g=t.S,m=t.d,v=t.i},function(t){_=t.b,x=t.g},function(){},function(){}],execute:function(){var b=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.type,e.hasSymbolVisual=!0,e}return e(a,t),a.prototype.getInitialData=function(t,e){return f(null,this,{useEncodeDefaulter:!0})},a.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},a.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},a.prototype.brushSelector=function(t,e,a){return a.point(e.getItemLayout(t))},a.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},a.type="series.scatter",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},a}(a),w=b,S=function(){},D=function(t){function a(e){var a=t.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return e(a,t),a.prototype.getDefaultShape=function(){return new S},a.prototype.reset=function(){this.notClear=!1,this._off=0},a.prototype.buildPath=function(t,e){var a,r=e.points,n=e.size,i=this.symbolProxy,o=i.shape,s=t.getContext?t.getContext():t,h=s&&n[0]<4,l=this.softClipShape;if(h)this._ctx=s;else{for(this._ctx=null,a=this._off;a<r.length;){var u=r[a++],c=r[a++];isNaN(u)||isNaN(c)||(l&&!l.contain(u,c)||(o.x=u-n[0]/2,o.y=c-n[1]/2,o.width=n[0],o.height=n[1],i.buildPath(t,o,!0)))}this.incremental&&(this._off=a,this.notClear=!0)}},a.prototype.afterBrush=function(){var t,e=this.shape,a=e.points,r=e.size,n=this._ctx,i=this.softClipShape;if(n){for(t=this._off;t<a.length;){var o=a[t++],s=a[t++];isNaN(o)||isNaN(s)||(i&&!i.contain(o,s)||n.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},a.prototype.findDataIndex=function(t,e){for(var a=this.shape,r=a.points,n=a.size,i=Math.max(n[0],4),o=Math.max(n[1],4),s=r.length/2-1;s>=0;s--){var h=2*s,l=r[h]-i/2,u=r[h+1]-o/2;if(t>=l&&e>=u&&t<=l+i&&e<=u+o)return s}return-1},a.prototype.contain=function(t,e){var a=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=a[0],e=a[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},a.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,a=e.points,n=e.size,i=n[0],o=n[1],s=1/0,h=1/0,l=-1/0,u=-1/0,c=0;c<a.length;){var p=a[c++],d=a[c++];s=Math.min(p,s),l=Math.max(p,l),h=Math.min(d,h),u=Math.max(d,u)}t=this._rect=new r(s-i/2,h-o/2,l-s+i,u-h+o)}return t},a}(n),C=function(){function t(){this.group=new i}return t.prototype.updateData=function(t,e){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var a=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,a)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,a){var r=this._newAdded[0],n=e.getLayout("points"),i=r&&r.shape.points;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+n.length);s.set(i),s.set(n,o),r.endIndex=t.end,r.setShape({points:s})}else{this._newAdded=[];var h=this._create();h.startIndex=t.start,h.endIndex=t.end,h.incremental=!0,h.setShape({points:n}),this._setCommon(h,e,a)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new D({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,a){var r=e.hostModel;a=a||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]),t.softClipShape=a.clipShape||null,t.symbolProxy=o(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var i=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var h=e.getVisual("style"),l=h&&h.fill;l&&t.setColor(l);var u=s(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){u.dataIndex=null;var a=t.hoverDataIdx;a>=0&&(u.dataIndex=a+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),A=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.type,e}return e(a,t),a.prototype.render=function(t,e,a){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r,{clipShape:this._getClipShape(t)}),this._finished=!0},a.prototype.incrementalPrepareRender=function(t,e,a){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},a.prototype.incrementalRender=function(t,e,a){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},a.prototype.updateTransform=function(t,e,a){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var n=y("").reset(t,e,a);n.progress&&n.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},a.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},a.prototype._getClipShape=function(t){var e=t.coordinateSystem,a=e&&e.getArea&&e.getArea();return t.get("clip",!0)?a:null},a.prototype._updateSymbolDraw=function(t,e){var a=this._symbolDraw,r=e.pipelineContext.large;return a&&r===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=r?new C:new g,this._isLargeDraw=r,this.group.removeAll()),this.group.add(a.group),a},a.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},a.prototype.dispose=function(){},a.type="scatter",a}(h),I=A;l([v,_,function(t){l(m),t.registerSeriesModel(w),t.registerChartView(I),t.registerLayout(y("scatter"))},u]);var L=d({name:"ChartScatter",props:{data:{type:Array,require:!0,default:function(){return[]}},colors:{type:String,require:!1,default:function(){return c[0]}},name:{type:Array,require:!0,default:function(){return[]}}},data:function(){return{domid:"domid-".concat(parseInt(1e8*Math.random())),chartObj:null}},methods:{handleArray:function(t){var e=this,a=[],r=[];return(a=this.data.slice(2*t,2*(t+1))).forEach((function(n,i){var o=i+1;o<a.length&&n.value.forEach((function(i,s){var h=[],l=1e8*Math.floor(10*Math.random()+1);h.push(i,a[o].value[s],l,n.label[s],e.name[t]),r.push(h)}))})),r},hanleData:function(){for(var t=parseInt(this.data.length/2),e=[],a=0;a<t;a++){var r=[],n=this.handleArray(a);r.push(n);var i={value:r,name:this.name[a]};e.push(i)}return e},render:function(){var t=null,e=null;this.hanleData().forEach((function(a){t=a.name,e=a.value}));var a={grid:{top:"15%",left:"7%",bottom:"15%",right:"5%",containLabel:!0},xAxis:{boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(0,0,0,0.45)"}},axisTick:{show:!1},axisLabel:{color:"rgba(0,0,0,0.45)",fontSize:12}},yAxis:{type:"value",axisLabel:{color:"rgba(0,0,0,0.45)",interval:"2",fontSize:12},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(0,0,0,0.15)"}},scale:!0},series:[{name:t,data:e[0],type:"scatter",symbolSize:function(t){return Math.sqrt(t[2])/500},emphasis:{label:{show:!0,formatter:function(t){return t.data[1]+":"+t.data[0]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:this.colors}}]};this.chartObj.setOption(a)}},mounted:function(){var t=this;this.chartObj&&this.chartObj.dispose(),this.chartObj=p(document.getElementById(this.domid)),this.$watch((function(){return t.data}),(function(){Array.isArray(t.data)&&t.data.length>0&&t.render(t.data)}),{immediate:!0,deep:!0})}},(function(){return(0,this._self._c)("div",{staticClass:"widget-chart-line",attrs:{id:this.domid}})}),[],!1,null,"9bb8a6cd",null,null).exports;t("default",d({components:{ChartScatter:L},data:function(){return{data:[]}},methods:{fetchData:function(t,e){return x(t,e).then((function(t){return t.data}))}},created:function(){var t=this;this.fetchData(null,{cache:!1}).then((function(e){t.data=e}))}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"example"},[e("h2",[t._v("简介")]),e("p",[t._v("基于Echart封装的散点图组件")]),e("h2",[t._v("示例")]),e("p",[t._v("data(Array)：通用图表格式")]),e("p",[t._v("colors(String)：用来描点的颜色；默认全局色表")]),e("p",[t._v("name(Array)：数据名称，数组长度与'data'保持一致")]),e("div",{staticClass:"demo"},[e("chart-scatter",{attrs:{data:t.data}})],1),t._m(0)])}),[function(){var t=this,e=t._self._c;return e("pre",{staticClass:"code"},[t._v("      "),e("textarea",{attrs:{readonly:""}},[t._v('      <chart-scatter :data="data" />\n      ')]),t._v("\n  ")])}],!1,null,"993984db",null,null).exports)}}}))}();
