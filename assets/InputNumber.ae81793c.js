import{n as r}from"./index.ec256302.js";import"./ui.c0058d49.js";const n={name:"input-number",model:{prop:"value",event:"change"},props:{value:{type:[String,Number],required:!1,default:""},min:{type:Number,required:!1,default:-1/0},max:{type:Number,required:!1,default:1/0},precision:{type:Number,required:!1,default:0},round:{type:Boolean,required:!1,default:!1},zeroFill:{type:Boolean,required:!1,default:!1},placeholder:{type:String,required:!1,default:"\u8BF7\u8F93\u5165"},disabled:{type:Boolean,required:!1,default:!1},size:{type:String,required:!1,default:""},readonly:{type:Boolean,required:!1,default:!1}},data(){return{myValue:null}},watch:{value:{handler(e){let t=e;isNaN(parseFloat(t))||(t<this.min&&this.myValue!==""&&(t=this.min),t>this.max&&(t=this.max)),this.myValue=t},immediate:!0},myValue:{handler(){this.$emit("change",this.myValue)},immediate:!0}},methods:{fillZero(e){if(e==null||e==="")return null;const t=this.precision;if(e.split&&this.zeroFill&&t>0){const i=e.indexOf(".");let l;i===-1?(l=t,e+="."):l=t-(e.length-1-i);for(let a=0;a<l;a++)e+="0"}return e},handleChange(){let e=this.myValue;e<this.min&&this.myValue!==""&&(e=this.min),e>this.max&&(e=this.max),this.myValue=this.retainDecimal(e,this.precision),this.zeroFill&&this.precision>0&&this.$nextTick(()=>{this.myValue=this.fillZero(this.myValue)})},handleInput(e){if(e==null)return null;this.myValue=e.toString().trim().replace(/[^\d.-]/g,"").replace(/\./,"$#$").replace(/\./g,"").replace("$#$",".").replace(/^-/,"$#$").replace(/-/g,"").replace("$#$","-")},retainDecimal(e,t){if(t<0&&(t=0),e.split&&e.indexOf(".")===e.length-1&&t>0||e.split&&e.indexOf("-")===e.length-1)return e;if(isNaN(parseFloat(e)))return null;let i;return this.round?i=Math.round(Math.round(parseFloat(e)*Math.pow(10,t)))/Math.pow(10,t):i=Math.floor(Math.round(parseFloat(e)*Math.pow(10,t)))/Math.pow(10,t),i=i.toString(),i}}};var s=function(){var t=this,i=t._self._c;return i("el-input",{attrs:{value:t.myValue,placeholder:t.placeholder,disabled:t.disabled,size:t.size,readonly:t.readonly},on:{input:t.handleInput,change:function(l){return t.handleChange(l,!0)}}},[i("template",{slot:"prepend"},[t._t("prepend")],2),i("template",{slot:"append"},[t._t("append")],2)],2)},o=[],u=r(n,s,o,!1,null,"38dc9343",null,null);const f=u.exports;export{f as default};
