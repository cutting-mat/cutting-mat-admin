import{_ as $,S as ge,d as bt,a as de,C as me,b as _e,G as ct,c as At,e as ut,m as vt,i as ft,f as St,P as pt,g as ye,h as Dt,R as gt,j as q,r as Y,k as dt,l as Q,n as wt,o as Ct,s as ot,p as X,t as lt,q as kt,u as rt,v as Lt,Z as be,w as Jt,x as Qt,y as Ae,z as Kt,A as j,B as mt,L as Yt,D as Pt,E as Se,F as De,H as we,I as It,J as Ce,K as ke,M as Le,N as Tt,O as Pe,Q as Ie,T as Te,U as Ee,V as Oe,W as Ne,X as Ve,Y as Re}from"./variate.eab112d8.js";import{n as te}from"./index.208c0d27.js";import{i as Et,c as J,a as Me,l as xe,b as Fe,g as Be}from"./index.a6b0e2f1.js";import{c as _t,S as Ge,a as ee,g as ae,b as re,p as $e,i as We}from"./points.cfa6b56f.js";import{i as ze}from"./install.e8c40286.js";import{S as Ot}from"./sausage.b0124cbb.js";import"./ui.9b8b7178.js";import"./axisAlignTicks.c2173ede.js";function yt(e,a){return e.type===a}var Ue=function(e){$(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dataset",t}return a.prototype.init=function(t,r,n){e.prototype.init.call(this,t,r,n),this._sourceManager=new ge(this),bt(this)},a.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),bt(this)},a.prototype.optionUpdated=function(){this._sourceManager.dirty()},a.prototype.getSourceManager=function(){return this._sourceManager},a.type="dataset",a.defaultOption={seriesLayoutBy:de},a}(me),He=function(e){$(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dataset",t}return a.type="dataset",a}(_e);function qe(e){e.registerComponentModel(Ue),e.registerComponentView(He)}var je=function(e){$(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t.hasSymbolVisual=!0,t}return a.prototype.getInitialData=function(t){return _t(null,this,{useEncodeDefaulter:!0})},a.prototype.getLegendIcon=function(t){var r=new ct,n=At("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(n),n.setStyle(t.lineStyle);var s=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),o=s==="none"?"circle":s,h=t.itemHeight*.8,l=At(o,(t.itemWidth-h)/2,(t.itemHeight-h)/2,h,h,t.itemStyle.fill);r.add(l),l.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?i:t.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),r},a.type="series.line",a.dependencies=["grid","polar"],a.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},a}(ut),Xe=je;function ne(e,a,t){var r=e.getBaseAxis(),n=e.getOtherAxis(r),s=Ze(n,t),i=r.dim,o=n.dim,h=a.mapDimension(o),l=a.mapDimension(i),c=o==="x"||o==="radius"?1:0,u=vt(e.dimensions,function(p){return a.mapDimension(p)}),f=!1,v=a.getCalculationInfo("stackResultDimension");return Et(a,u[0])&&(f=!0,u[0]=v),Et(a,u[1])&&(f=!0,u[1]=v),{dataDimsForPoint:u,valueStart:s,valueAxisDim:o,baseAxisDim:i,stacked:!!f,valueDim:h,baseDim:l,baseDataOffset:c,stackedOverDimension:a.getCalculationInfo("stackedOverDimension")}}function Ze(e,a){var t=0,r=e.scale.getExtent();return a==="start"?t=r[0]:a==="end"?t=r[1]:ft(a)&&!isNaN(a)?t=a:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function ie(e,a,t,r){var n=NaN;e.stacked&&(n=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(n)&&(n=e.valueStart);var s=e.baseDataOffset,i=[];return i[s]=t.get(e.baseDim,r),i[1-s]=n,a.dataToPoint(i)}function Je(e,a){var t=[];return a.diff(e).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,n){t.push({cmd:"=",idx:n,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function Qe(e,a,t,r,n,s,i,o){for(var h=Je(e,a),l=[],c=[],u=[],f=[],v=[],p=[],g=[],_=ne(n,a,i),d=e.getLayout("points")||[],m=a.getLayout("points")||[],y=0;y<h.length;y++){var w=h[y],k=!0,b=void 0,A=void 0;switch(w.cmd){case"=":b=w.idx*2,A=w.idx1*2;var C=d[b],I=d[b+1],T=m[A],S=m[A+1];(isNaN(C)||isNaN(I))&&(C=T,I=S),l.push(C,I),c.push(T,S),u.push(t[b],t[b+1]),f.push(r[A],r[A+1]),g.push(a.getRawIndex(w.idx1));break;case"+":var D=w.idx,L=_.dataDimsForPoint,O=n.dataToPoint([a.get(L[0],D),a.get(L[1],D)]);A=D*2,l.push(O[0],O[1]),c.push(m[A],m[A+1]);var E=ie(_,n,a,D);u.push(E[0],E[1]),f.push(r[A],r[A+1]),g.push(a.getRawIndex(D));break;case"-":k=!1}k&&(v.push(w),p.push(p.length))}p.sort(function(K,V){return g[K]-g[V]});for(var R=l.length,M=J(R),P=J(R),N=J(R),F=J(R),x=[],y=0;y<p.length;y++){var Z=p[y],B=y*2,G=Z*2;M[B]=l[G],M[B+1]=l[G+1],P[B]=c[G],P[B+1]=c[G+1],N[B]=u[G],N[B+1]=u[G+1],F[B]=f[G],F[B+1]=f[G+1],x[y]=v[Z]}return{current:M,next:P,stackedOnCurrent:N,stackedOnNext:F,status:x}}var W=Math.min,z=Math.max;function H(e,a){return isNaN(e)||isNaN(a)}function ht(e,a,t,r,n,s,i,o,h){for(var l,c,u,f,v,p,g=t,_=0;_<r;_++){var d=a[g*2],m=a[g*2+1];if(g>=n||g<0)break;if(H(d,m)){if(h){g+=s;continue}break}if(g===t)e[s>0?"moveTo":"lineTo"](d,m),u=d,f=m;else{var y=d-l,w=m-c;if(y*y+w*w<.5){g+=s;continue}if(i>0){for(var k=g+s,b=a[k*2],A=a[k*2+1];b===d&&A===m&&_<r;)_++,k+=s,g+=s,b=a[k*2],A=a[k*2+1],d=a[g*2],m=a[g*2+1],y=d-l,w=m-c;var C=_+1;if(h)for(;H(b,A)&&C<r;)C++,k+=s,b=a[k*2],A=a[k*2+1];var I=.5,T=0,S=0,D=void 0,L=void 0;if(C>=r||H(b,A))v=d,p=m;else{T=b-l,S=A-c;var O=d-l,E=b-d,R=m-c,M=A-m,P=void 0,N=void 0;if(o==="x"){P=Math.abs(O),N=Math.abs(E);var F=T>0?1:-1;v=d-F*P*i,p=m,D=d+F*N*i,L=m}else if(o==="y"){P=Math.abs(R),N=Math.abs(M);var x=S>0?1:-1;v=d,p=m-x*P*i,D=d,L=m+x*N*i}else P=Math.sqrt(O*O+R*R),N=Math.sqrt(E*E+M*M),I=N/(N+P),v=d-T*i*(1-I),p=m-S*i*(1-I),D=d+T*i*I,L=m+S*i*I,D=W(D,z(b,d)),L=W(L,z(A,m)),D=z(D,W(b,d)),L=z(L,W(A,m)),T=D-d,S=L-m,v=d-T*P/N,p=m-S*P/N,v=W(v,z(l,d)),p=W(p,z(c,m)),v=z(v,W(l,d)),p=z(p,W(c,m)),T=d-v,S=m-p,D=d+T*N/P,L=m+S*N/P}e.bezierCurveTo(u,f,v,p,d,m),u=D,f=L}else e.lineTo(d,m)}l=d,c=m,g+=s}return _}var se=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),Ke=function(e){$(a,e);function a(t){var r=e.call(this,t)||this;return r.type="ec-polyline",r}return a.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},a.prototype.getDefaultShape=function(){return new se},a.prototype.buildPath=function(t,r){var n=r.points,s=0,i=n.length/2;if(r.connectNulls){for(;i>0&&H(n[i*2-2],n[i*2-1]);i--);for(;s<i&&H(n[s*2],n[s*2+1]);s++);}for(;s<i;)s+=ht(t,n,s,i,i,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},a.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,s=n.data,i=ye.CMD,o,h,l=r==="x",c=[],u=0;u<s.length;){var f=s[u++],v=void 0,p=void 0,g=void 0,_=void 0,d=void 0,m=void 0,y=void 0;switch(f){case i.M:o=s[u++],h=s[u++];break;case i.L:if(v=s[u++],p=s[u++],y=l?(t-o)/(v-o):(t-h)/(p-h),y<=1&&y>=0){var w=l?(p-h)*y+h:(v-o)*y+o;return l?[t,w]:[w,t]}o=v,h=p;break;case i.C:v=s[u++],p=s[u++],g=s[u++],_=s[u++],d=s[u++],m=s[u++];var k=l?St(o,v,g,d,t,c):St(h,p,_,m,t,c);if(k>0)for(var b=0;b<k;b++){var A=c[b];if(A<=1&&A>=0){var w=l?Dt(h,p,_,m,A):Dt(o,v,g,d,A);return l?[t,w]:[w,t]}}o=d,h=m;break}}},a}(pt),Ye=function(e){$(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a}(se),ta=function(e){$(a,e);function a(t){var r=e.call(this,t)||this;return r.type="ec-polygon",r}return a.prototype.getDefaultShape=function(){return new Ye},a.prototype.buildPath=function(t,r){var n=r.points,s=r.stackedOnPoints,i=0,o=n.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;o>0&&H(n[o*2-2],n[o*2-1]);o--);for(;i<o&&H(n[i*2],n[i*2+1]);i++);}for(;i<o;){var l=ht(t,n,i,o,o,1,r.smooth,h,r.connectNulls);ht(t,s,i+l-1,l,o,-1,r.stackedOnSmooth,h,r.connectNulls),i+=l+1,t.closePath()}},a}(pt);function oe(e,a,t,r,n){var s=e.getArea(),i=s.x,o=s.y,h=s.width,l=s.height,c=t.get(["lineStyle","width"])||2;i-=c/2,o-=c/2,h+=c,l+=c,i=Math.floor(i),h=Math.round(h);var u=new gt({shape:{x:i,y:o,width:h,height:l}});if(a){var f=e.getBaseAxis(),v=f.isHorizontal(),p=f.inverse;v?(p&&(u.shape.x+=h),u.shape.width=0):(p||(u.shape.y+=l),u.shape.height=0);var g=Q(n)?function(_){n(_,u)}:null;q(u,{shape:{width:h,height:l,x:i,y:o}},t,null,r,g)}return u}function le(e,a,t){var r=e.getArea(),n=Y(r.r0,1),s=Y(r.r,1),i=new dt({shape:{cx:Y(e.cx,1),cy:Y(e.cy,1),r0:n,r:s,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(a){var o=e.getBaseAxis().dim==="angle";o?i.shape.endAngle=r.startAngle:i.shape.r=n,q(i,{shape:{endAngle:r.endAngle,r:s}},t)}return i}function ea(e,a,t,r,n){if(e){if(e.type==="polar")return le(e,a,t);if(e.type==="cartesian2d")return oe(e,a,t,r,n)}else return null;return null}function Nt(e,a){if(e.length===a.length){for(var t=0;t<e.length;t++)if(e[t]!==a[t])return;return!0}}function Vt(e){for(var a=1/0,t=1/0,r=-1/0,n=-1/0,s=0;s<e.length;){var i=e[s++],o=e[s++];isNaN(i)||(a=Math.min(i,a),r=Math.max(i,r)),isNaN(o)||(t=Math.min(o,t),n=Math.max(o,n))}return[[a,t],[r,n]]}function Rt(e,a){var t=Vt(e),r=t[0],n=t[1],s=Vt(a),i=s[0],o=s[1];return Math.max(Math.abs(r[0]-i[0]),Math.abs(r[1]-i[1]),Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]))}function Mt(e){return ft(e)?e:e?.5:0}function aa(e,a,t){if(!t.valueDim)return[];for(var r=a.count(),n=J(r*2),s=0;s<r;s++){var i=ie(t,e,a,s);n[s*2]=i[0],n[s*2+1]=i[1]}return n}function U(e,a,t,r){var n=a.getBaseAxis(),s=n.dim==="x"||n.dim==="radius"?0:1,i=[],o=0,h=[],l=[],c=[],u=[];if(r){for(o=0;o<e.length;o+=2)!isNaN(e[o])&&!isNaN(e[o+1])&&u.push(e[o],e[o+1]);e=u}for(o=0;o<e.length-2;o+=2)switch(c[0]=e[o+2],c[1]=e[o+3],l[0]=e[o],l[1]=e[o+1],i.push(l[0],l[1]),t){case"end":h[s]=c[s],h[1-s]=l[1-s],i.push(h[0],h[1]);break;case"middle":var f=(l[s]+c[s])/2,v=[];h[s]=v[s]=f,h[1-s]=l[1-s],v[1-s]=c[1-s],i.push(h[0],h[1]),i.push(v[0],v[1]);break;default:h[s]=l[s],h[1-s]=c[1-s],i.push(h[0],h[1])}return i.push(e[o++],e[o++]),i}function ra(e,a){var t=[],r=e.length,n,s;function i(c,u,f){var v=c.coord,p=(f-v)/(u.coord-v),g=Se(p,[c.color,u.color]);return{coord:f,color:g}}for(var o=0;o<r;o++){var h=e[o],l=h.coord;if(l<0)n=h;else if(l>a){s?t.push(i(s,h,a)):n&&t.push(i(n,h,0),i(n,h,a));break}else n&&(t.push(i(n,h,0)),n=null),t.push(h),s=h}return t}function na(e,a,t){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&a.type==="cartesian2d"){for(var n,s,i=r.length-1;i>=0;i--){var o=e.getDimensionInfo(r[i].dimension);if(n=o&&o.coordDim,n==="x"||n==="y"){s=r[i];break}}if(!!s){var h=a.getAxis(n),l=vt(s.stops,function(y){return{coord:h.toGlobalCoord(h.dataToCoord(y.value)),color:y.color}}),c=l.length,u=s.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),u.reverse());var f=ra(l,n==="x"?t.getWidth():t.getHeight()),v=f.length;if(!v&&c)return l[0].coord<0?u[1]?u[1]:l[c-1].color:u[0]?u[0]:l[0].color;var p=10,g=f[0].coord-p,_=f[v-1].coord+p,d=_-g;if(d<.001)return"transparent";mt(f,function(y){y.offset=(y.coord-g)/d}),f.push({offset:v?f[v-1].offset:.5,color:u[1]||"transparent"}),f.unshift({offset:v?f[0].offset:.5,color:u[0]||"transparent"});var m=new Yt(0,0,0,0,f,!0);return m[n]=g,m[n+"2"]=_,m}}}function ia(e,a,t){var r=e.get("showAllSymbol"),n=r==="auto";if(!(r&&!n)){var s=t.getAxesByScale("ordinal")[0];if(!!s&&!(n&&sa(s,a))){var i=a.mapDimension(s.dim),o={};return mt(s.getViewLabels(),function(h){var l=s.scale.getRawOrdinalNumber(h.tickValue);o[l]=1}),function(h){return!o.hasOwnProperty(a.get(i,h))}}}}function sa(e,a){var t=e.getExtent(),r=Math.abs(t[1]-t[0])/e.scale.count();isNaN(r)&&(r=0);for(var n=a.count(),s=Math.max(1,Math.round(n/5)),i=0;i<n;i+=s)if(ee.getSymbolSize(a,i)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function oa(e,a){return isNaN(e)||isNaN(a)}function la(e){for(var a=e.length/2;a>0&&oa(e[a*2-2],e[a*2-1]);a--);return a-1}function xt(e,a){return[e[a*2],e[a*2+1]]}function ha(e,a,t){for(var r=e.length/2,n=t==="x"?0:1,s,i,o=0,h=-1,l=0;l<r;l++)if(i=e[l*2+n],!(isNaN(i)||isNaN(e[l*2+1-n]))){if(l===0){s=i;continue}if(s<=a&&i>=a||s>=a&&i<=a){h=l;break}o=l,s=i}return{range:[o,h],t:(a-s)/(i-s)}}function he(e){if(e.get(["endLabel","show"]))return!0;for(var a=0;a<Pt.length;a++)if(e.get([Pt[a],"endLabel","show"]))return!0;return!1}function nt(e,a,t,r){if(yt(a,"cartesian2d")){var n=r.getModel("endLabel"),s=n.get("valueAnimation"),i=r.getData(),o={lastFrameIndex:0},h=he(r)?function(v,p){e._endLabelOnDuring(v,p,i,o,s,n,a)}:null,l=a.getBaseAxis().isHorizontal(),c=oe(a,t,r,function(){var v=e._endLabel;v&&t&&o.originalX!=null&&v.attr({x:o.originalX,y:o.originalY})},h);if(!r.get("clip",!0)){var u=c.shape,f=Math.max(u.width,u.height);l?(u.y-=f,u.height+=f*2):(u.x-=f,u.width+=f*2)}return h&&h(1,c),c}else return le(a,t,r)}function ca(e,a){var t=a.getBaseAxis(),r=t.isHorizontal(),n=t.inverse,s=r?n?"right":"left":"center",i=r?"middle":n?"top":"bottom";return{normal:{align:e.get("align")||s,verticalAlign:e.get("verticalAlign")||i}}}var ua=function(e){$(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.prototype.init=function(){var t=new ct,r=new Ge;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},a.prototype.render=function(t,r,n){var s=this,i=t.coordinateSystem,o=this.group,h=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),u=h.getLayout("points")||[],f=i.type==="polar",v=this._coordSys,p=this._symbolDraw,g=this._polyline,_=this._polygon,d=this._lineGroup,m=t.get("animation"),y=!c.isEmpty(),w=c.get("origin"),k=ne(i,h,w),b=y&&aa(i,h,k),A=t.get("showSymbol"),C=t.get("connectNulls"),I=A&&!f&&ia(t,h,i),T=this._data;T&&T.eachItemGraphicEl(function(V,pe){V.__temp&&(o.remove(V),T.setItemGraphicEl(pe,null))}),A||p.remove(),o.add(d);var S=f?!1:t.get("step"),D;i&&i.getArea&&t.get("clip",!0)&&(D=i.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var L=na(h,i,n)||h.getVisual("style")[h.getVisual("drawType")];if(!(g&&v.type===i.type&&S===this._step))A&&p.updateData(h,{isIgnore:I,clipShape:D,disableAnimation:!0,getSymbolPoint:function(V){return[u[V*2],u[V*2+1]]}}),m&&this._initSymbolLabelAnimation(h,i,D),S&&(u=U(u,i,S,C),b&&(b=U(b,i,S,C))),g=this._newPolyline(u),y?_=this._newPolygon(u,b):_&&(d.remove(_),_=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,wt(L)),d.setClipPath(nt(this,i,!0,t));else{y&&!_?_=this._newPolygon(u,b):_&&!y&&(d.remove(_),_=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,wt(L));var O=d.getClipPath();if(O){var E=nt(this,i,!1,t);q(O,{shape:E.shape},t)}else d.setClipPath(nt(this,i,!0,t));A&&p.updateData(h,{isIgnore:I,clipShape:D,disableAnimation:!0,getSymbolPoint:function(V){return[u[V*2],u[V*2+1]]}}),(!Nt(this._stackedOnPoints,b)||!Nt(this._points,u))&&(m?this._doUpdateAnimation(h,b,i,n,S,w,C):(S&&(u=U(u,i,S,C),b&&(b=U(b,i,S,C))),g.setShape({points:u}),_&&_.setShape({points:u,stackedOnPoints:b})))}var R=t.getModel("emphasis"),M=R.get("focus"),P=R.get("blurScope"),N=R.get("disabled");if(g.useStyle(Ct(l.getLineStyle(),{fill:"none",stroke:L,lineJoin:"bevel"})),ot(g,t,"lineStyle"),g.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var F=g.getState("emphasis").style;F.lineWidth=+g.style.lineWidth+1}X(g).seriesIndex=t.seriesIndex,lt(g,M,P,N);var x=Mt(t.get("smooth")),Z=t.get("smoothMonotone");if(g.setShape({smooth:x,smoothMonotone:Z,connectNulls:C}),_){var B=h.getCalculationInfo("stackedOnSeries"),G=0;_.useStyle(Ct(c.getAreaStyle(),{fill:L,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),B&&(G=Mt(B.get("smooth"))),_.setShape({smooth:x,stackedOnSmooth:G,smoothMonotone:Z,connectNulls:C}),ot(_,t,"areaStyle"),X(_).seriesIndex=t.seriesIndex,lt(_,M,P,N)}var K=function(V){s._changePolyState(V)};h.eachItemGraphicEl(function(V){V&&(V.onHoverStateChange=K)}),this._polyline.onHoverStateChange=K,this._data=h,this._coordSys=i,this._stackedOnPoints=b,this._points=u,this._step=S,this._valueOrigin=w,t.get("triggerLineEvent")&&(this.packEventData(t,g),_&&this.packEventData(t,_))},a.prototype.packEventData=function(t,r){X(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},a.prototype.highlight=function(t,r,n,s){var i=t.getData(),o=kt(i,s);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var h=i.getLayout("points"),l=i.getItemGraphicEl(o);if(!l){var c=h[o*2],u=h[o*2+1];if(isNaN(c)||isNaN(u)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,u))return;var f=t.get("zlevel"),v=t.get("z");l=new ee(i,o),l.x=c,l.y=u,l.setZ(f,v);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=v,p.z2=this._polyline.z2+1),l.__temp=!0,i.setItemGraphicEl(o,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else rt.prototype.highlight.call(this,t,r,n,s)},a.prototype.downplay=function(t,r,n,s){var i=t.getData(),o=kt(i,s);if(this._changePolyState("normal"),o!=null&&o>=0){var h=i.getItemGraphicEl(o);h&&(h.__temp?(i.setItemGraphicEl(o,null),this.group.remove(h)):h.downplay())}else rt.prototype.downplay.call(this,t,r,n,s)},a.prototype._changePolyState=function(t){var r=this._polygon;Lt(this._polyline,t),r&&Lt(r,t)},a.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Ke({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},a.prototype._newPolygon=function(t,r){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new ta({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},a.prototype._initSymbolLabelAnimation=function(t,r,n){var s,i,o=r.getBaseAxis(),h=o.inverse;r.type==="cartesian2d"?(s=o.isHorizontal(),i=!1):r.type==="polar"&&(s=o.dim==="angle",i=!0);var l=t.hostModel,c=l.get("animationDuration");Q(c)&&(c=c(null));var u=l.get("animationDelay")||0,f=Q(u)?u(null):u;t.eachItemGraphicEl(function(v,p){var g=v;if(g){var _=[v.x,v.y],d=void 0,m=void 0,y=void 0;if(n)if(i){var w=n,k=r.pointToCoord(_);s?(d=w.startAngle,m=w.endAngle,y=-k[1]/180*Math.PI):(d=w.r0,m=w.r,y=k[0])}else{var b=n;s?(d=b.x,m=b.x+b.width,y=v.x):(d=b.y+b.height,m=b.y,y=v.y)}var A=m===d?0:(y-d)/(m-d);h&&(A=1-A);var C=Q(u)?u(p):c*A+f,I=g.getSymbolPath(),T=I.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:C}),I.disableLabelAnimation=!0}})},a.prototype._initOrUpdateEndLabel=function(t,r,n){var s=t.getModel("endLabel");if(he(t)){var i=t.getData(),o=this._polyline,h=i.getLayout("points");if(!h){o.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new be({z2:200}),l.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=la(h);c>=0&&(Jt(o,Qt(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:c,defaultText:function(u,f,v){return v!=null?ae(i,v):re(i,u)},enableTextSetter:!0},ca(s,r)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},a.prototype._endLabelOnDuring=function(t,r,n,s,i,o,h){var l=this._endLabel,c=this._polyline;if(l){t<1&&s.originalX==null&&(s.originalX=l.x,s.originalY=l.y);var u=n.getLayout("points"),f=n.hostModel,v=f.get("connectNulls"),p=o.get("precision"),g=o.get("distance")||0,_=h.getBaseAxis(),d=_.isHorizontal(),m=_.inverse,y=r.shape,w=m?d?y.x:y.y+y.height:d?y.x+y.width:y.y,k=(d?g:0)*(m?-1:1),b=(d?0:-g)*(m?-1:1),A=d?"x":"y",C=ha(u,w,A),I=C.range,T=I[1]-I[0],S=void 0;if(T>=1){if(T>1&&!v){var D=xt(u,I[0]);l.attr({x:D[0]+k,y:D[1]+b}),i&&(S=f.getRawValue(I[0]))}else{var D=c.getPointOn(w,A);D&&l.attr({x:D[0]+k,y:D[1]+b});var L=f.getRawValue(I[0]),O=f.getRawValue(I[1]);i&&(S=Ae(n,p,L,O,C.t))}s.lastFrameIndex=I[0]}else{var E=t===1||s.lastFrameIndex>0?I[0]:0,D=xt(u,E);i&&(S=f.getRawValue(E)),l.attr({x:D[0]+k,y:D[1]+b})}i&&Kt(l).setLabelText(S)}},a.prototype._doUpdateAnimation=function(t,r,n,s,i,o,h){var l=this._polyline,c=this._polygon,u=t.hostModel,f=Qe(this._data,t,this._stackedOnPoints,r,this._coordSys,n,this._valueOrigin),v=f.current,p=f.stackedOnCurrent,g=f.next,_=f.stackedOnNext;if(i&&(v=U(f.current,n,i,h),p=U(f.stackedOnCurrent,n,i,h),g=U(f.next,n,i,h),_=U(f.stackedOnNext,n,i,h)),Rt(v,g)>3e3||c&&Rt(p,_)>3e3){l.stopAnimation(),l.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:_}));return}l.shape.__points=f.current,l.shape.points=v;var d={shape:{points:g}};f.current!==v&&(d.shape.__points=f.next),l.stopAnimation(),j(l,d,u),c&&(c.setShape({points:v,stackedOnPoints:p}),c.stopAnimation(),j(c,{shape:{stackedOnPoints:_}},u),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var m=[],y=f.status,w=0;w<y.length;w++){var k=y[w].cmd;if(k==="="){var b=t.getItemGraphicEl(y[w].idx1);b&&m.push({el:b,ptIdx:w})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var A=l.shape.__points,C=0;C<m.length;C++){var I=m[C].el,T=m[C].ptIdx*2;I.x=A[T],I.y=A[T+1],I.markRedraw()}})},a.prototype.remove=function(t){var r=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(s,i){s.__temp&&(r.remove(s),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},a.type="line",a}(rt),va=ua,fa={average:function(e){for(var a=0,t=0,r=0;r<e.length;r++)isNaN(e[r])||(a+=e[r],t++);return t===0?NaN:a/t},sum:function(e){for(var a=0,t=0;t<e.length;t++)a+=e[t]||0;return a},max:function(e){for(var a=-1/0,t=0;t<e.length;t++)e[t]>a&&(a=e[t]);return isFinite(a)?a:NaN},min:function(e){for(var a=1/0,t=0;t<e.length;t++)e[t]<a&&(a=e[t]);return isFinite(a)?a:NaN},nearest:function(e){return e[0]}},pa=function(e){return Math.round(e.length/2)};function ce(e){return{seriesType:e,reset:function(a,t,r){var n=a.getData(),s=a.get("sampling"),i=a.coordinateSystem,o=n.count();if(o>10&&i.type==="cartesian2d"&&s){var h=i.getBaseAxis(),l=i.getOtherAxis(h),c=h.getExtent(),u=r.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(u||1),v=Math.round(o/f);if(isFinite(v)&&v>1){s==="lttb"&&a.setData(n.lttbDownSample(n.mapDimension(l.dim),1/v));var p=void 0;De(s)?p=fa[s]:Q(s)&&(p=s),p&&a.setData(n.downSample(n.mapDimension(l.dim),1/v,p,pa))}}}}}function ga(e){e.registerChartView(va),e.registerSeriesModel(Xe),e.registerLayout($e("line",!0)),e.registerVisual({seriesType:"line",reset:function(a){var t=a.getData(),r=a.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,ce("line"))}var ue=function(e){$(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.getInitialData=function(t,r){return _t(null,this,{useEncodeDefaulter:!0})},a.prototype.getMarkerPosition=function(t){var r=this.coordinateSystem;if(r&&r.clampData){var n=r.dataToPoint(r.clampData(t)),s=this.getData(),i=s.getLayout("offset"),o=s.getLayout("size"),h=r.getBaseAxis().isHorizontal()?0:1;return n[h]+=i+o/2,n}return[NaN,NaN]},a.type="series.__base_bar__",a.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},a}(ut);ut.registerClass(ue);var Ft=ue,da=function(e){$(a,e);function a(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=a.type,t}return a.prototype.getInitialData=function(){return _t(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},a.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},a.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},a.prototype.brushSelector=function(t,r,n){return n.rect(r.getItemLayout(t))},a.type="series.bar",a.dependencies=["grid","polar"],a.defaultOption=we(Ft.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),a}(Ft),ma=da;function _a(e,a){a=a||{};var t=a.isRoundCap;return function(r,n,s){var i=n.position;if(!i||i instanceof Array)return It(r,n,s);var o=e(i),h=n.distance!=null?n.distance:5,l=this.shape,c=l.cx,u=l.cy,f=l.r,v=l.r0,p=(f+v)/2,g=l.startAngle,_=l.endAngle,d=(g+_)/2,m=t?Math.abs(f-v)/2:0,y=Math.cos,w=Math.sin,k=c+f*y(g),b=u+f*w(g),A="left",C="top";switch(o){case"startArc":k=c+(v-h)*y(d),b=u+(v-h)*w(d),A="center",C="top";break;case"insideStartArc":k=c+(v+h)*y(d),b=u+(v+h)*w(d),A="center",C="bottom";break;case"startAngle":k=c+p*y(g)+tt(g,h+m,!1),b=u+p*w(g)+et(g,h+m,!1),A="right",C="middle";break;case"insideStartAngle":k=c+p*y(g)+tt(g,-h+m,!1),b=u+p*w(g)+et(g,-h+m,!1),A="left",C="middle";break;case"middle":k=c+p*y(d),b=u+p*w(d),A="center",C="middle";break;case"endArc":k=c+(f+h)*y(d),b=u+(f+h)*w(d),A="center",C="bottom";break;case"insideEndArc":k=c+(f-h)*y(d),b=u+(f-h)*w(d),A="center",C="top";break;case"endAngle":k=c+p*y(_)+tt(_,h+m,!0),b=u+p*w(_)+et(_,h+m,!0),A="left",C="middle";break;case"insideEndAngle":k=c+p*y(_)+tt(_,-h+m,!0),b=u+p*w(_)+et(_,-h+m,!0),A="right",C="middle";break;default:return It(r,n,s)}return r=r||{},r.x=k,r.y=b,r.align=A,r.verticalAlign=C,r}}function ya(e,a,t,r){if(ft(r)){e.setTextConfig({rotation:r});return}else if(Ce(a)){e.setTextConfig({rotation:0});return}var n=e.shape,s=n.clockwise?n.startAngle:n.endAngle,i=n.clockwise?n.endAngle:n.startAngle,o=(s+i)/2,h,l=t(a);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=o;break;case"startAngle":case"insideStartAngle":h=s;break;case"endAngle":case"insideEndAngle":h=i;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-h;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function tt(e,a,t){return a*Math.sin(e)*(t?-1:1)}function et(e,a,t){return a*Math.cos(e)*(t?1:-1)}var it=Math.max,st=Math.min;function ba(e,a){var t=e.getArea&&e.getArea();if(yt(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=a.getLayout("bandWidth");r.isHorizontal()?(t.x-=n,t.width+=n*2):(t.y-=n,t.height+=n*2)}}return t}var Aa=function(e){$(a,e);function a(){var t=e.call(this)||this;return t.type=a.type,t._isFirstFrame=!0,t}return a.prototype.render=function(t,r,n,s){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var i=t.get("coordinateSystem");(i==="cartesian2d"||i==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,n):this._renderNormal(t,r,n,s))},a.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},a.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},a.prototype.eachRendered=function(t){ke(this._progressiveEls||this.group,t)},a.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},a.prototype._renderNormal=function(t,r,n,s){var i=this.group,o=t.getData(),h=this._data,l=t.coordinateSystem,c=l.getBaseAxis(),u;l.type==="cartesian2d"?u=c.isHorizontal():l.type==="polar"&&(u=c.dim==="angle");var f=t.isAnimationEnabled()?t:null,v=Sa(t,l);v&&this._enableRealtimeSort(v,o,n);var p=t.get("clip",!0)||v,g=ba(l,o);i.removeClipPath();var _=t.get("roundCap",!0),d=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),y=m.get("borderRadius")||0,w=[],k=this._backgroundEls,b=s&&s.isInitSort,A=s&&s.type==="changeAxisOrder";function C(S){var D=at[l.type](o,S),L=Ia(l,u,D);return L.useStyle(m.getItemStyle()),l.type==="cartesian2d"&&L.setShape("r",y),w[S]=L,L}o.diff(h).add(function(S){var D=o.getItemModel(S),L=at[l.type](o,S,D);if(d&&C(S),!(!o.hasValue(S)||!zt[l.type](L))){var O=!1;p&&(O=Bt[l.type](g,L));var E=Gt[l.type](t,o,S,L,u,f,c.model,!1,_);v&&(E.forceLabelAnimation=!0),Ut(E,o,S,D,L,t,u,l.type==="polar"),b?E.attr({shape:L}):v?$t(v,f,E,L,S,u,!1,!1):q(E,{shape:L},t,S),o.setItemGraphicEl(S,E),i.add(E),E.ignore=O}}).update(function(S,D){var L=o.getItemModel(S),O=at[l.type](o,S,L);if(d){var E=void 0;k.length===0?E=C(D):(E=k[D],E.useStyle(m.getItemStyle()),l.type==="cartesian2d"&&E.setShape("r",y),w[S]=E);var R=at[l.type](o,S),M=fe(u,R,l);j(E,{shape:M},f,S)}var P=h.getItemGraphicEl(D);if(!o.hasValue(S)||!zt[l.type](O)){i.remove(P);return}var N=!1;if(p&&(N=Bt[l.type](g,O),N&&i.remove(P)),P?Le(P):P=Gt[l.type](t,o,S,O,u,f,c.model,!!P,_),v&&(P.forceLabelAnimation=!0),A){var F=P.getTextContent();if(F){var x=Kt(F);x.prevValue!=null&&(x.prevValue=x.value)}}else Ut(P,o,S,L,O,t,u,l.type==="polar");b?P.attr({shape:O}):v?$t(v,f,P,O,S,u,!0,A):j(P,{shape:O},t,S,null),o.setItemGraphicEl(S,P),P.ignore=N,i.add(P)}).remove(function(S){var D=h.getItemGraphicEl(S);D&&Tt(D,t,S)}).execute();var I=this._backgroundGroup||(this._backgroundGroup=new ct);I.removeAll();for(var T=0;T<w.length;++T)I.add(w[T]);i.add(I),this._backgroundEls=w,this._data=o},a.prototype._renderLarge=function(t,r,n){this._clear(),qt(t,this.group),this._updateLargeClip(t)},a.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),qt(r,this.group,this._progressiveEls,!0)},a.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&ea(t.coordinateSystem,!1,t),n=this.group;r?n.setClipPath(r):n.removeClipPath()},a.prototype._enableRealtimeSort=function(t,r,n){var s=this;if(!!r.count()){var i=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,n),this._isFirstFrame=!1;else{var o=function(h){var l=r.getItemGraphicEl(h),c=l&&l.shape;return c&&Math.abs(i.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){s._updateSortWithinSameData(r,o,i,n)},n.getZr().on("rendered",this._onRendered)}}},a.prototype._dataSort=function(t,r,n){var s=[];return t.each(t.mapDimension(r.dim),function(i,o){var h=n(o);h=h==null?NaN:h,s.push({dataIndex:o,mappedValue:h,ordinalNumber:i})}),s.sort(function(i,o){return o.mappedValue-i.mappedValue}),{ordinalNumbers:vt(s,function(i){return i.ordinalNumber})}},a.prototype._isOrderChangedWithinSameData=function(t,r,n){for(var s=n.scale,i=t.mapDimension(n.dim),o=Number.MAX_VALUE,h=0,l=s.getOrdinalMeta().categories.length;h<l;++h){var c=t.rawIndexOf(i,s.getRawOrdinalNumber(h)),u=c<0?Number.MIN_VALUE:r(t.indexOfRawIndex(c));if(u>o)return!0;o=u}return!1},a.prototype._isOrderDifferentInView=function(t,r){for(var n=r.scale,s=n.getExtent(),i=Math.max(0,s[0]),o=Math.min(s[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(t.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},a.prototype._updateSortWithinSameData=function(t,r,n,s){if(!!this._isOrderChangedWithinSameData(t,r,n)){var i=this._dataSort(t,n,r);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(s),s.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:i}))}},a.prototype._dispatchInitSort=function(t,r,n){var s=r.baseAxis,i=this._dataSort(t,s,function(o){return t.get(t.mapDimension(r.otherAxis.dim),o)});n.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",isInitSort:!0,axisId:s.index,sortInfo:i})},a.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},a.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},a.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},a.prototype._clear=function(t){var r=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(s){Tt(s,t,X(s).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},a.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},a.type="bar",a}(rt),Bt={cartesian2d:function(e,a){var t=a.width<0?-1:1,r=a.height<0?-1:1;t<0&&(a.x+=a.width,a.width=-a.width),r<0&&(a.y+=a.height,a.height=-a.height);var n=e.x+e.width,s=e.y+e.height,i=it(a.x,e.x),o=st(a.x+a.width,n),h=it(a.y,e.y),l=st(a.y+a.height,s),c=o<i,u=l<h;return a.x=c&&i>n?o:i,a.y=u&&h>s?l:h,a.width=c?0:o-i,a.height=u?0:l-h,t<0&&(a.x+=a.width,a.width=-a.width),r<0&&(a.y+=a.height,a.height=-a.height),c||u},polar:function(e,a){var t=a.r0<=a.r?1:-1;if(t<0){var r=a.r;a.r=a.r0,a.r0=r}var n=st(a.r,e.r),s=it(a.r0,e.r0);a.r=n,a.r0=s;var i=n-s<0;if(t<0){var r=a.r;a.r=a.r0,a.r0=r}return i}},Gt={cartesian2d:function(e,a,t,r,n,s,i,o,h){var l=new gt({shape:Pe({},r),z2:1});if(l.__dataIndex=t,l.name="item",s){var c=l.shape,u=n?"height":"width";c[u]=0}return l},polar:function(e,a,t,r,n,s,i,o,h){var l=!n&&h?Ot:dt,c=new l({shape:r,z2:1});c.name="item";var u=ve(n);if(c.calculateTextPosition=_a(u,{isRoundCap:l===Ot}),s){var f=c.shape,v=n?"r":"endAngle",p={};f[v]=n?0:r.startAngle,p[v]=r[v],(o?j:q)(c,{shape:p},s)}return c}};function Sa(e,a){var t=e.get("realtimeSort",!0),r=a.getBaseAxis();if(t&&r.type==="category"&&a.type==="cartesian2d")return{baseAxis:r,otherAxis:a.getOtherAxis(r)}}function $t(e,a,t,r,n,s,i,o){var h,l;s?(l={x:r.x,width:r.width},h={y:r.y,height:r.height}):(l={y:r.y,height:r.height},h={x:r.x,width:r.width}),o||(i?j:q)(t,{shape:h},a,n,null);var c=a?e.baseAxis.model:null;(i?j:q)(t,{shape:l},c,n)}function Wt(e,a){for(var t=0;t<a.length;t++)if(!isFinite(e[a[t]]))return!0;return!1}var Da=["x","y","width","height"],wa=["cx","cy","r","startAngle","endAngle"],zt={cartesian2d:function(e){return!Wt(e,Da)},polar:function(e){return!Wt(e,wa)}},at={cartesian2d:function(e,a,t){var r=e.getItemLayout(a),n=t?ka(t,r):0,s=r.width>0?1:-1,i=r.height>0?1:-1;return{x:r.x+s*n/2,y:r.y+i*n/2,width:r.width-s*n,height:r.height-i*n}},polar:function(e,a,t){var r=e.getItemLayout(a);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Ca(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function ve(e){return function(a){var t=a?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(e)}function Ut(e,a,t,r,n,s,i,o){var h=a.getItemVisual(t,"style");o||e.setShape("r",r.get(["itemStyle","borderRadius"])||0),e.useStyle(h);var l=r.getShallow("cursor");l&&e.attr("cursor",l);var c=o?i?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":i?n.height>=0?"bottom":"top":n.width>=0?"right":"left",u=Qt(r);Jt(e,u,{labelFetcher:s,labelDataIndex:t,defaultText:re(s.getData(),t),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:c});var f=e.getTextContent();if(o&&f){var v=r.get(["label","position"]);e.textConfig.inside=v==="middle"?!0:null,ya(e,v==="outside"?c:v,ve(i),r.get(["label","rotate"]))}Ie(f,u,s.getRawValue(t),function(g){return ae(a,g)});var p=r.getModel(["emphasis"]);lt(e,p.get("focus"),p.get("blurScope"),p.get("disabled")),ot(e,r),Ca(n)&&(e.style.fill="none",e.style.stroke="none",mt(e.states,function(g){g.style&&(g.style.fill=g.style.stroke="none")}))}function ka(e,a){var t=e.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=e.get(["itemStyle","borderWidth"])||0,n=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width),s=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height);return Math.min(r,n,s)}var La=function(){function e(){}return e}(),Ht=function(e){$(a,e);function a(t){var r=e.call(this,t)||this;return r.type="largeBar",r}return a.prototype.getDefaultShape=function(){return new La},a.prototype.buildPath=function(t,r){for(var n=r.points,s=this.baseDimIdx,i=1-this.baseDimIdx,o=[],h=[],l=this.barWidth,c=0;c<n.length;c+=3)h[s]=l,h[i]=n[c+2],o[s]=n[c+s],o[i]=n[c+i],t.rect(o[0],o[1],h[0],h[1])},a}(pt);function qt(e,a,t,r){var n=e.getData(),s=n.getLayout("valueAxisHorizontal")?1:0,i=n.getLayout("largeDataIndices"),o=n.getLayout("size"),h=e.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var c=new Ht({shape:{points:l},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=s,c.largeDataIndices=i,c.barWidth=o,c.useStyle(h.getItemStyle()),a.add(c),t&&t.push(c)}var u=new Ht({shape:{points:n.getLayout("largePoints")},incremental:!!r,z2:1});u.baseDimIdx=s,u.largeDataIndices=i,u.barWidth=o,a.add(u),u.useStyle(n.getVisual("style")),X(u).seriesIndex=e.seriesIndex,e.get("silent")||(u.on("mousedown",jt),u.on("mousemove",jt)),t&&t.push(u)}var jt=Te(function(e){var a=this,t=Pa(a,e.offsetX,e.offsetY);X(a).dataIndex=t>=0?t:null},30,!1);function Pa(e,a,t){for(var r=e.baseDimIdx,n=1-r,s=e.shape.points,i=e.largeDataIndices,o=[],h=[],l=e.barWidth,c=0,u=s.length/3;c<u;c++){var f=c*3;if(h[r]=l,h[n]=s[f+2],o[r]=s[f+r],o[n]=s[f+n],h[n]<0&&(o[n]+=h[n],h[n]=-h[n]),a>=o[0]&&a<=o[0]+h[0]&&t>=o[1]&&t<=o[1]+h[1])return i[c]}return-1}function fe(e,a,t){if(yt(t,"cartesian2d")){var r=a,n=t.getArea();return{x:e?r.x:n.x,y:e?n.y:r.y,width:e?r.width:n.width,height:e?n.height:r.height}}else{var n=t.getArea(),s=a;return{cx:n.cx,cy:n.cy,r0:e?n.r0:s.r0,r:e?n.r:s.r,startAngle:e?s.startAngle:0,endAngle:e?s.endAngle:Math.PI*2}}}function Ia(e,a,t){var r=e.type==="polar"?dt:gt;return new r({shape:fe(a,t,e),silent:!0,z2:0})}var Ta=Aa;function Ea(e){e.registerChartView(Ta),e.registerSeriesModel(ma),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Ee(xe,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Me("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,ce("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(a,t){var r=a.componentType||"series";t.eachComponent({mainType:r,query:a},function(n){a.sortInfo&&n.axis.setCategorySortInfo(a.sortInfo)})})}function Oa(e,a){let t=["product"].concat(e.map((n,s)=>a[s]||`legend_${s}`)),r=[];return e[0]&&Array.isArray(e[0].label)&&(r=e[0].label.map((n,s)=>[n].concat(e.map(i=>i.value[s]||0)))),[t].concat(r)}var Na=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"widget-chart",attrs:{id:e.domid}})},Va=[];Oe([qe,Fe,We,ze,Ea,ga,Ne]);const Ra={name:"Chart",props:{data:{type:Array,required:!0,default(){return[]}},colors:{type:Array,require:!1,default(){return Ve}},legend:{type:Array,required:!1,default(){return[]}},stack:{type:Boolean,require:!1,default(){return!1}},radius:{type:Number,require:!1,default(){return 2}},axisColor:{type:String,require:!1,default:()=>"#000"},chartType:{type:String,require:!1,default:()=>"bar"}},data(){return{domid:`domid-${parseInt(Math.random()*1e8)}`,chartObj:null,sourceData:null}},computed:{computedStack(){return this.stack?`computedStack_${parseInt(Math.random()*1e6)}`:null}},methods:{getSeries(){const e=this.chartType.split(",");return this.data.map((t,r)=>e[r]||"bar").map((t,r)=>{let n;if(t==="line"){let s=Array.isArray(this.colors[r])?this.colors[r][0]:this.colors[r]||this.colors[0];n={name:this.sourceData[0].slice(1)[r],type:"line",smooth:!0,lineStyle:{width:2,type:"solid",color:s},itemStyle:{color:s}},Array.isArray(this.colors[r])&&this.colors[r].length===3&&(n.areaStyle={color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:this.colors[r][0]},{offset:1,color:this.colors[r][1]}],global:!1}})}else if(t==="bar"){const s=Array.isArray(this.colors[r])&&this.colors[r].length===2?new Yt(0,0,0,1,[{offset:0,color:this.colors[r][0]},{offset:1,color:this.colors[r][1]}]):this.colors[r]||"#5CA4F8";n={name:this.sourceData[0].slice(1)[r],type:t,stack:t=="bar"?this.computedStack:null,barWidth:16,itemStyle:{borderRadius:this.radius,color:s}}}return n})},render(){const e={tooltip:{trigger:"axis"},grid:{top:"50",left:"50",bottom:"50",right:"30"},legend:{show:!!this.legend.length,data:this.sourceData[0].slice(1),right:"5%",top:10,selectedMode:!1},calculable:!0,xAxis:[{type:"category",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:this.axisColor,opacity:.45}},axisTick:{show:!1},axisLabel:{interval:0,color:this.axisColor,opacity:.45,fontSize:12}}],yAxis:[{type:"value",axisLabel:{color:this.axisColor,opacity:.45,fontSize:12},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:this.axisColor,opacity:.15}}}],dataset:{source:this.sourceData},series:this.getSeries()};this.chartObj.setOption(e)}},mounted(){this.chartObj&&this.chartObj.dispose(),this.chartObj=Re(document.getElementById(this.domid)),this.$watch(()=>this.data,()=>{Array.isArray(this.data)&&this.data.length>0&&(this.sourceData=Oa(this.data,this.legend),this.render(this.data))},{immediate:!0,deep:!0})}},Xt={};var Ma=te(Ra,Na,Va,!1,xa,"2d70c942",null,null);function xa(e){for(let a in Xt)this[a]=Xt[a]}var Fa=function(){return Ma.exports}(),Ba=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"example"},[t("h2",[e._v("\u7B80\u4ECB")]),t("p",[e._v("\u57FA\u4E8EEchart\u5C01\u88C5\u7684\u56FE\u8868\u7EC4\u4EF6\uFF0C\u652F\u6301\u7EBF\u3001\u67F1\u4E24\u79CD\u7C7B\u578B")]),t("h2",[e._v("\u793A\u4F8B")]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data1}})],1),e._m(0),t("h2",[e._v("\u914D\u7F6E")]),t("h3",[e._v("\u56FE\u8868\u7C7B\u578B")]),t("p",[e._v('chartType(String): \u9ED8\u8BA4"bar"\uFF0C\u53EF\u9009\uFF1A"bar | line"')]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data2,chartType:"line"}})],1),e._m(1),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data3,chartType:"bar,line"}})],1),e._m(2),t("h3",[e._v("\u56FE\u4F8B")]),t("p",[e._v("legend(Array): \u56FE\u4F8B\u540D\u79F0\u6570\u7EC4\uFF0C\u9ED8\u8BA4\u4E0D\u663E\u793A\u56FE\u4F8B")]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data1,legend:["\u5BA3\u4F20\u6559\u80B2"]}})],1),e._m(3),t("h3",[e._v("\u989C\u8272")]),t("p",[e._v("colors(Array): \u7528\u4E8E\u67F1\u56FE\u80CC\u666F/\u6298\u7EBF\u56FE\u7EBF\u6761\u548C\u533A\u57DF\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u8272\u8868\u3002")]),e._m(4),e._m(5),e._m(6),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data3,colors:e.colors,chartType:"bar,line"}})],1),e._m(7),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data2,colors:e.colors2,chartType:"line"}})],1),e._m(8),t("h3",[e._v("\u5750\u6807\u8F74\u989C\u8272")]),t("p",[e._v(" axisColor(String): \u5750\u6807\u8F74\uFF0C\u5750\u6807\u8F74\u523B\u5EA6\u6807\u7B7E\uFF0C\u5750\u6807\u8F74\u5206\u5272\u7EBF\u76F8\u5173\u989C\u8272\uFF0C\u9ED8\u8BA4 #000 ")]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data1,axisColor:"#2978ff"}})],1),e._m(9),t("h3",[e._v("\u67F1\u72B6\u56FE\u5806\u53E0")]),t("p",[e._v("stack(Boolean): \u591A\u7EC4\u67F1\u56FE\u662F\u5426\u5806\u53E0\uFF0C\u9ED8\u8BA4false")]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data3,colors:e.colors,stack:""}})],1),e._m(10),t("h3",[e._v("\u67F1\u72B6\u56FE\u5706\u89D2")]),t("p",[e._v("radius(Number): \u67F1\u56FE\u5706\u89D2\u5C3A\u5BF8\uFF0C\u9ED8\u8BA42")]),t("div",{staticClass:"demo"},[t("chart",{attrs:{data:e.data3,radius:10}})],1),e._m(11)])},Ga=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:""}},[e._v(`      <chart :data="data1" />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:""}},[e._v(`        <chart :data="data2" chartType="line" />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"5"}},[e._v(`      <chart
          :data="data3"
          chartType="bar,line"
      />
  `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"5"}},[e._v(`        <chart
            :data="data1"
            :legend="['\u5BA3\u4F20\u6559\u80B2']"
        />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("p",[e._v(" \u7EAF\u8272\u6A21\u5F0F\u683C\u5F0F\uFF1A[\u8272\u503C]\uFF0C\u4F8B\u5982 "),t("code",[e._v('["#5B8FF9", "#61DDAA"]')])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("p",[e._v(" \u6E10\u53D8\u6A21\u5F0F\u683C\u5F0F\uFF1A[[\u6E10\u53D8\u8D77\u59CB\u8272\u503C\uFF0C\u6E10\u53D8\u7EC8\u6B62\u8272\u503C]]\uFF0C\u4F8B\u5982 "),t("code",[e._v('[ ["#286BF1", "#5CA4F8"], ["#FAD961", "#FAD961"], ]')])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("p",[e._v(" \u9634\u5F71\uFF08\u4EC5\u9002\u7528\u4E8E\u6298\u7EBF\u56FE\uFF09\u683C\u5F0F\uFF1A[[\u7EBF\u6761\u8272\u503C\uFF0C\u6E10\u53D8\u8D77\u59CB\u8272\u503C\uFF0C\u6E10\u53D8\u7EC8\u6B62\u8272\u503C]]\uFF0C\u4F8B\u5982 "),t("code",[e._v(' [ ["rgba(43,95,212,0.65)", "rgba(58,156,235,0.1)", "rgba(43,95,212,1)"] ] ')])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v(`        <chart
            :data="data3"
            :colors="colors"
            chartType="bar,line"
        />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v(`        <chart
            :data="data2"
            :colors="colors2"
            chartType="line"
        />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v(`        <chart
            :data="data1"
            :axisColor="'#2978ff'"
        />
    `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v(`      <chart
          :data="data3"
          :colors="colors"
          stack
      />
      `)]),e._v(`
  `)])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("pre",{staticClass:"code"},[e._v("    "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v(`    <chart
        :data="data3"
        :radius="10"
    />
    `)]),e._v(`
  `)])}];const $a={components:{Chart:Fa},data(){return{data1:[],data2:[],data3:[],colors:[["#286BF1","#5CA4F8"],["#FAD961","#FAD961"]],colors2:[["rgba(43,95,212,0.65)","rgba(58,156,235,0.1)","rgba(43,95,212,1)"],["rgba(190,42,42,0.65)","rgba(191,80,80,0.1)","rgba(242,23,23,1)"]]}},methods:{fetchData(e,a){return Be(e,a).then(t=>t.data)},printit(){var e=document.getElementById("sfsfasdfsaf"),a={filename:"myfile.pdf",html2canvas:{scale:2,width:e.offsetWidth,height:e.offsetHeight}};html2pdf().set(a).from(e).save()}},created(){this.fetchData(null,{cache:!1}).then(e=>{this.data1=e}),this.fetchData(null,{cache:!1}).then(e=>{this.data2=[e[0]]}),this.fetchData(null,{cache:!1}).then(e=>{this.data3=e})}},Zt={};var Wa=te($a,Ba,Ga,!1,za,"d6ec0064",null,null);function za(e){for(let a in Zt)this[a]=Zt[a]}var Ka=function(){return Wa.exports}();export{Ka as default};
