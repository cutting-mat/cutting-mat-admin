System.register(["./variate-legacy.6823138b.js","./index-legacy.493a7434.js"],(function(t){"use strict";var e,i,n,o,a,r,s,l,u,h,d,c,p,f,g,v,x,m,y,_,b,w,M,T,C,I,S,k,D,A,P,L,E,B,O,N,z,R,H,W,G,F,V,Y,X,U,Z,j,q,K,Q,$,J,tt,et,it,nt,ot,at,rt,st,lt,ut,ht,dt,ct,pt,ft,gt,vt,xt,mt,yt,_t,bt,wt,Mt,Tt,Ct,It,St,kt,Dt,At,Pt,Lt,Et,Bt,Ot,Nt,zt,Rt,Ht,Wt,Gt,Ft,Vt,Yt,Xt,Ut,Zt,jt,qt,Kt,Qt,$t,Jt,te,ee,ie,ne,oe,ae,re;return{setters:[function(t){e=t.$,i=t.B,n=t.F,o=t.a0,a=t.m,r=t.a1,s=t.a2,l=t.a3,u=t.r,h=t.a4,d=t.a5,c=t._,p=t.J,f=t.a6,g=t.a7,v=t.a8,x=t.a9,m=t.aa,y=t.ab,_=t.ac,b=t.ad,w=t.ae,M=t.af,T=t.i,C=t.ag,I=t.ah,S=t.ai,k=t.aj,D=t.ak,A=t.al,P=t.am,L=t.an,E=t.ao,B=t.ap,O=t.aq,N=t.ar,z=t.as,R=t.at,H=t.au,W=t.av,G=t.aw,F=t.ax,V=t.ay,Y=t.az,X=t.aA,U=t.aB,Z=t.aC,j=t.aD,q=t.l,K=t.aE,Q=t.aF,$=t.aG,J=t.aH,tt=t.aI,et=t.aJ,it=t.aK,nt=t.O,ot=t.aL,at=t.aM,rt=t.c,st=t.Z,lt=t.aN,ut=t.aO,ht=t.p,dt=t.aP,ct=t.aQ,pt=t.aR,ft=t.aS,gt=t.aT,vt=t.o,xt=t.aU,mt=t.G,yt=t.U,_t=t.aV,bt=t.aW,wt=t.b,Mt=t.aX,Tt=t.aY,Ct=t.aZ,It=t.a_,St=t.a$,kt=t.b0,Dt=t.A,At=t.b1,Pt=t.b2,Lt=t.b3,Et=t.b4,Bt=t.b5,Ot=t.b6,Nt=t.C,zt=t.b7,Rt=t.q,Ht=t.b8,Wt=t.b9,Gt=t.n,Ft=t.ba,Vt=t.bb,Yt=t.bc,Xt=t.bd,Ut=t.R,Zt=t.be,jt=t.bf,qt=t.bg,Kt=t.bh,Qt=t.bi,$t=t.bj,Jt=t.bk,te=t.bl,ee=t.bm,ie=t.bn,ne=t.bo,oe=t.V,ae=t.bp},function(t){re=t.i}],execute:function(){function se(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}t({a:function(t){return{seriesType:t,plan:g(),reset:function(t){if(Le(t)){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=i.getOtherAxis(n),a=e.getDimensionIndex(e.mapDimension(o.dim)),r=e.getDimensionIndex(e.mapDimension(n.dim)),s=t.get("showBackground",!0),l=e.mapDimension(o.dim),u=e.getCalculationInfo("stackResultDimension"),h=se(e,l)&&!!e.getCalculationInfo("stackedOnSeries"),d=o.isHorizontal(),c=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,o),p=Ee(t),f=t.get("barMinHeight")||0,g=u&&e.getDimensionIndex(u),v=e.getLayout("size"),x=e.getLayout("offset");return{progress:function(t,e){for(var n,o=t.count,l=p&&Se(3*o),u=p&&s&&Se(3*o),m=p&&Se(o),y=i.master.getRect(),_=d?y.width:y.height,b=e.getStore(),w=0;null!=(n=t.next());){var M=b.get(h?g:a,n),T=b.get(r,n),C=c,I=void 0;h&&(I=+M-b.get(a,n));var S=void 0,k=void 0,D=void 0,A=void 0;if(d){var P=i.dataToPoint([M,T]);h&&(C=i.dataToPoint([I,T])[0]),S=C,k=P[1]+x,D=P[0]-C,A=v,Math.abs(D)<f&&(D=(D<0?-1:1)*f)}else P=i.dataToPoint([T,M]),h&&(C=i.dataToPoint([T,I])[1]),S=P[0]+x,k=C,D=v,A=P[1]-C,Math.abs(A)<f&&(A=(A<=0?-1:1)*f);p?(l[w]=S,l[w+1]=k,l[w+2]=d?D:A,u&&(u[w]=d?y.x:S,u[w+1]=d?k:y.y,u[w+2]=_),m[n]=n):e.setItemLayout(n,{x:S,y:k,width:D,height:A}),w+=3}p&&e.setLayout({largePoints:l,largeDataIndices:m,largeBackgroundPoints:u,valueAxisHorizontal:d})}}}}}},b:function(t){oe(hn),t.registerComponentModel(cn),t.registerComponentView(En),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ae),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ae)},c:Se,d:function(t){var e,i,n=t.model,o=t.scale;if(n.get(["axisLabel","show"])&&!o.isBlank()){var a=o.getExtent();o instanceof be?i=o.count():(e=o.getTicks(),i=e.length);var r,s=t.getLabelModel(),l=ai(t),u=1;i>40&&(u=Math.ceil(i/40));for(var h=0;h<i;h+=u){var d=e?e[h]:{value:a[0]+h},c=l(d,h),p=si(s.getTextRect(c),s.get("rotate")||0);r?r.union(p):r=p}return r}},e:function(t,o,a){var r,s,l,u=(a=a||{}).byIndex,h=a.stackedCoordDimension;!function(t){return!e(t.schema)}(o)?(s=o.schema,r=s.dimensions,l=o.store):r=o;var d,c,p,f,g=!(!t||!t.get("stack"));if(i(r,(function(t,e){n(t)&&(r[e]=t={name:t}),g&&!t.isExtraCoord&&(u||d||!t.ordinalMeta||(d=t),c||"ordinal"===t.type||"time"===t.type||h&&h!==t.coordDim||(c=t))})),!c||u||d||(u=!0),c){p="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,d&&(d.createInvertedIndices=!0);var v=c.coordDim,x=c.type,m=0;i(r,(function(t){t.coordDim===v&&m++}));var y={name:p,coordDim:v,coordDimIndex:m,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},_={name:f,coordDim:f,coordDimIndex:m+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};s?(l&&(y.storeDimIndex=l.ensureCalculationDimension(f,x),_.storeDimIndex=l.ensureCalculationDimension(p,x)),s.appendCalculationDimension(y),s.appendCalculationDimension(_)):(r.push(y),r.push(_))}return{stackedDimension:c&&c.name,stackedByDimension:d&&d.name,isStackedByIndex:u,stackedOverDimension:f,stackResultDimension:p}},f:function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new be({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Fe({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(ue.getClass(e)||Te)}},h:function(t){return"cartesian2d"===t.get("coordinateSystem")},i:se,j:function(t){var e={xAxisModel:null,yAxisModel:null};return i(e,(function(i,n){var o=n.replace(/Model$/,""),a=t.getReferringComponents(o,et).models[0];e[n]=a})),e},k:function(t,e){var n={};return i(t.mapDimensionsAll(e),(function(e){n[function(t,e){return se(t,e)?t.getCalculationInfo("stackResultDimension"):e}(t,e)]=!0})),x(n)},l:function(t,e){var n=Ae(t,e),o=Pe(n);i(n,(function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),n=ke(t),a=o[De(i)][n],r=a.offset,s=a.width;e.setLayout({bandWidth:a.bandWidth,offset:r,size:s})}))},m:function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)},n:function(t){return"interval"===t.type||"log"===t.type},o:function(t,e){var i=e,n=oi(t,i),o=n.extent,a=i.get("splitNumber");t instanceof Je&&(t.base=i.get("logBase"));var r=t.type,s=i.get("interval"),l="interval"===r||"time"===r;t.setExtent(o[0],o[1]),t.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?i.get("minInterval"):null,maxInterval:l?i.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)},p:hi,r:hn,s:li,t:ai,u:ui,v:oi,w:function(t){var e=Math.pow(10,d(t)),i=t/e;return i?2===i?i=3:3===i?i=5:i*=2:i=1,u(i*e)},x:function(t,e,i,n){return function(t,e,i,n,o,a){var r=t.length;if(!(r<2)){t.sort((function(t,i){return t.rect[e]-i.rect[e]}));for(var s,l=0,u=!1,h=0,d=0;d<r;d++){var c=t[d],p=c.rect;(s=p[e]-l)<0&&(p[e]-=s,c.label[e]-=s,u=!0),h+=Math.max(-s,0),l=p[e]+p[i]}h>0&&a&&_(-h/r,0,r);var f,g,v=t[0],x=t[r-1];return m(),f<0&&b(-f,.8),g<0&&b(g,.8),m(),y(f,g,1),y(g,f,-1),m(),f<0&&w(-f),g<0&&w(g),u}function m(){f=v.rect[e]-n,g=o-x.rect[e]-x.rect[i]}function y(t,e,i){if(t<0){var n=Math.min(e,-t);if(n>0){_(n*i,0,r);var o=n+t;o<0&&b(-o*i,1)}else b(-t*i,1)}}function _(i,n,o){0!==i&&(u=!0);for(var a=n;a<o;a++){var r=t[a];r.rect[e]+=i,r.label[e]+=i}}function b(n,o){for(var a=[],s=0,l=1;l<r;l++){var u=t[l-1].rect,h=Math.max(t[l].rect[e]-u[e]-u[i],0);a.push(h),s+=h}if(s){var d=Math.min(Math.abs(n)/s,o);if(n>0)for(l=0;l<r-1;l++)_(a[l]*d,0,l+1);else for(l=r-1;l>0;l--)_(-a[l-1]*d,l,r)}}function w(t){var e=t<0?-1:1;t=Math.abs(t);for(var i=Math.ceil(t/(r-1)),n=0;n<r-1;n++)if(e>0?_(i,0,n+1):_(-i,r-n-1,r),(t-=i)<=0)return}}(t,"y","height",e,i,n)}});var le=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();o(le);var ue=le,he=0,de=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++he}return t.createByAxisModel=function(e){var i=e.option,n=i.data,o=n&&a(n,ce);return new t({categories:o,needCollect:!o,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!n(t)&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var o=this._getOrCreateMap();return null==(e=o.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,o.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=r(this.categories))},t}();function ce(t){return s(t)&&null!=t.value?t.value:t+""}var pe=t("O",de);function fe(t,e,i,n){var o={},a=t[1]-t[0],r=o.interval=h(a/e,!0);null!=i&&r<i&&(r=o.interval=i),null!=n&&r>n&&(r=o.interval=n);var s=o.intervalPrecision=ge(r);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),ve(t,0,e),ve(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(o.niceTickExtent=[u(Math.ceil(t[0]/r)*r,s),u(Math.floor(t[1]/r)*r,s)],t),o}function ge(t){return l(t)+2}function ve(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function xe(t,e){return t>=e[0]&&t<=e[1]}function me(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function ye(t,e){return t*(e[1]-e[0])+e[0]}var _e=function(t){function e(e){var i=t.call(this,e)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new pe({})),p(n)&&(n=new pe({categories:a(n,(function(t){return s(t)?t.value:t}))})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return c(e,t),e.prototype.parse=function(t){return null==t?NaN:n(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return xe(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return me(t=this._getTickNumber(this.parse(t)),this._extent)},e.prototype.scale=function(t){return t=Math.round(ye(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],o=0,a=this._ordinalMeta.categories.length,r=Math.min(a,e.length);o<r;++o){var s=e[o];i[o]=s,n[s]=o}for(var l=0;o<a;++o){for(;null!=n[l];)l++;i.push(l),n[l]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[e];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(ue);ue.registerClass(_e);var be=_e,we=u,Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return c(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return xe(t,this._extent)},e.prototype.normalize=function(t){return me(t,this._extent)},e.prototype.scale=function(t){return ye(t,this._extent)},e.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ge(t)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,a=[];if(!e)return a;i[0]<n[0]&&(t?a.push({value:we(n[0]-e,o)}):a.push({value:i[0]}));for(var r=n[0];r<=n[1]&&(a.push({value:r}),(r=we(r+e,o))!==a[a.length-1].value);)if(a.length>1e4)return[];var s=a.length?a[a.length-1].value:n[1];return i[1]>s&&(t?a.push({value:we(s+e,o)}):a.push({value:i[1]})),a},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<e.length;o++){for(var a=e[o],r=e[o-1],s=0,l=[],u=(a.value-r.value)/t;s<t-1;){var h=we(r.value+(s+1)*u);h>n[0]&&h<n[1]&&l.push(h),s++}i.push(l)}return i},e.prototype.getLabel=function(t,e){if(null==t)return"";var i=e&&e.precision;null==i?i=l(t.value)||0:"auto"===i&&(i=this._intervalPrecision);var n=we(t.value,i,!0);return f(n)},e.prototype.calcNiceTicks=function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var a=fe(n,t,e,i);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=we(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=we(Math.ceil(e[1]/o)*o))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(ue);ue.registerClass(Me);var Te=t("I",Me),Ce="undefined"!=typeof Float32Array,Ie=Ce?Float32Array:Array;function Se(t){return p(t)?Ce?new Float32Array(t):t:new Ie(t)}function ke(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function De(t){return t.dim+t.index}function Ae(t,e){var i=[];return e.eachSeriesByType(t,(function(t){Le(t)&&i.push(t)})),i}function Pe(t){var e=function(t){var e={};i(t,(function(t){var i=t.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var n=t.getData(),o=i.dim+"_"+i.index,a=n.getDimensionIndex(n.mapDimension(i.dim)),r=n.getStore(),s=0,l=r.count();s<l;++s){var u=r.get(a,s);e[o]?e[o].push(u):e[o]=[u]}}));var n={};for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];if(a){a.sort((function(t,e){return t-e}));for(var r=null,s=1;s<a.length;++s){var l=a[s]-a[s-1];l>0&&(r=null===r?l:Math.min(r,l))}n[o]=r}}return n}(t),n=[];return i(t,(function(t){var i,o=t.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)i=o.getBandWidth();else if("value"===o.type||"time"===o.type){var r=o.dim+"_"+o.index,s=e[r],l=Math.abs(a[1]-a[0]),u=o.scale.getExtent(),h=Math.abs(u[1]-u[0]);i=s?l/h*s:l}else{var d=t.getData();i=Math.abs(a[1]-a[0])/d.count()}var c=v(t.get("barWidth"),i),p=v(t.get("barMaxWidth"),i),f=v(t.get("barMinWidth")||(Ee(t)?.5:1),i),g=t.get("barGap"),x=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:c,barMaxWidth:p,barMinWidth:f,barGap:g,barCategoryGap:x,axisKey:De(o),stackId:ke(t)})})),function(t){var e={};i(t,(function(t,i){var n=t.axisKey,o=t.bandWidth,a=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},r=a.stacks;e[n]=a;var s=t.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var u=t.barMaxWidth;u&&(r[s].maxWidth=u);var h=t.barMinWidth;h&&(r[s].minWidth=h);var d=t.barGap;null!=d&&(a.gap=d);var c=t.barCategoryGap;null!=c&&(a.categoryGap=c)}));var n={};return i(e,(function(t,e){n[e]={};var o=t.stacks,a=t.bandWidth,r=t.categoryGap;if(null==r){var s=x(o).length;r=Math.max(35-4*s,15)+"%"}var l=v(r,a),u=v(t.gap,1),h=t.remainedWidth,d=t.autoWidthCount,c=(h-l)/(d+(d-1)*u);c=Math.max(c,0),i(o,(function(t){var e=t.maxWidth,i=t.minWidth;if(t.width)n=t.width,e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,h-=n+u*n,d--;else{var n=c;e&&e<n&&(n=Math.min(e,h)),i&&i>n&&(n=i),n!==c&&(t.width=n,h-=n+u*n,d--)}})),c=(h-l)/(d+(d-1)*u),c=Math.max(c,0);var p,f=0;i(o,(function(t,e){t.width||(t.width=c),p=t,f+=t.width*(1+u)})),p&&(f-=p.width*u);var g=-f/2;i(o,(function(t,i){n[e][i]=n[e][i]||{bandWidth:a,offset:g,width:t.width},g+=t.width*(1+u)}))})),n}(n)}function Le(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Ee(t){return t.pipelineContext&&t.pipelineContext.large}var Be=function(t){function e(e){var i=t.call(this,e)||this;return i.type="time",i}return c(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return m(t.value,y[_(b(this._minLevelUnit))]||y.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,i){var n=this.getSetting("useUTC"),o=this.getSetting("locale");return w(t,e,i,o,n)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,i=[];if(!t)return i;i.push({value:e[0],level:0});var n=this.getSetting("useUTC"),o=function(t,e,i,n){var o=1e4,r=L,s=0;function l(t,e,i,o,a,r,s){for(var l=new Date(e),u=e,h=l[o]();u<i&&u<=n[1];)s.push({value:u}),h+=t,l[a](h),u=l.getTime();s.push({value:u,notAdd:!0})}function u(t,o,a){var r=[],s=!o.length;if(!function(t,e,i,n){var o=C(e),a=C(i),r=function(t){return H(o,t,n)===H(a,t,n)},s=function(){return r("year")},l=function(){return s()&&r("month")},u=function(){return l()&&r("day")},h=function(){return u()&&r("hour")},d=function(){return h()&&r("minute")},c=function(){return d()&&r("second")},p=function(){return c()&&r("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return h();case"minute":return d();case"second":return c();case"millisecond":return p()}}(b(t),n[0],n[1],i)){s&&(o=[{value:Ge(new Date(n[0]),t,i)},{value:n[1]}]);for(var u=0;u<o.length-1;u++){var h=o[u].value,d=o[u+1].value;if(h!==d){var c=void 0,p=void 0,f=void 0,g=!1;switch(t){case"year":c=Math.max(1,Math.round(e/M/365)),p=U(i),f=Z(i);break;case"half-year":case"quarter":case"month":c=ze(e),p=X(i),f=R(i);break;case"week":case"half-week":case"day":c=Ne(e),p=Y(i),f=z(i),g=!0;break;case"half-day":case"quarter-day":case"hour":c=Re(e),p=V(i),f=N(i);break;case"minute":c=He(e,!0),p=F(i),f=O(i);break;case"second":c=He(e,!1),p=G(i),f=E(i);break;case"millisecond":c=We(e),p=W(i),f=B(i)}l(c,h,d,p,f,g,r),"year"===t&&a.length>1&&0===u&&a.unshift({value:a[0].value-c})}}for(u=0;u<r.length;u++)a.push(r[u]);return r}}for(var h=[],d=[],c=0,p=0,f=0;f<r.length&&s++<o;++f){var g=b(r[f]);if(A(r[f])&&(u(r[f],h[h.length-1]||[],d),g!==(r[f+1]?b(r[f+1]):null))){if(d.length){p=c,d.sort((function(t,e){return t.value-e.value}));for(var v=[],x=0;x<d.length;++x){var m=d[x].value;0!==x&&d[x-1].value===m||(v.push(d[x]),m>=n[0]&&m<=n[1]&&c++)}var y=(n[1]-n[0])/e;if(c>1.5*y&&p>y/1.5)break;if(h.push(v),c>y||t===r[f])break}d=[]}}var _=P(a(h,(function(t){return P(t,(function(t){return t.value>=n[0]&&t.value<=n[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],T=_.length-1;for(f=0;f<_.length;++f)for(var I=_[f],S=0;S<I.length;++S)w.push({value:I[S].value,level:T-f});w.sort((function(t,e){return t.value-e.value}));var k=[];for(f=0;f<w.length;++f)0!==f&&w[f].value===w[f-1].value||k.push(w[f]);return k}(this._minLevelUnit,this._approxInterval,n,e);return(i=i.concat(o)).push({value:e[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=M,e[1]+=M),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-M}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0];this._approxInterval=o/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var a=Oe.length,r=Math.min(function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i}(Oe,this._approxInterval,0,a),a-1);this._interval=Oe[r][1],this._minLevelUnit=Oe[Math.max(r-1,0)][0]},e.prototype.parse=function(t){return T(t)?t:+C(t)},e.prototype.contain=function(t){return xe(this.parse(t),this._extent)},e.prototype.normalize=function(t){return me(this.parse(t),this._extent)},e.prototype.scale=function(t){return ye(t,this._extent)},e.type="time",e}(Te),Oe=[["second",I],["minute",S],["hour",k],["quarter-day",6*k],["half-day",12*k],["day",1.2*M],["half-week",3.5*M],["week",7*M],["month",31*M],["quarter",95*M],["half-year",D/2],["year",D]];function Ne(t,e){return(t/=M)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function ze(t){return(t/=30*M)>6?6:t>3?3:t>2?2:1}function Re(t){return(t/=k)>12?12:t>6?6:t>3.5?4:t>2?2:1}function He(t,e){return(t/=e?S:I)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function We(t){return h(t,!0)}function Ge(t,e,i){var n=new Date(t);switch(b(e)){case"year":case"month":n[R(i)](0);case"day":n[z(i)](1);case"hour":n[N(i)](0);case"minute":n[O(i)](0);case"second":n[E(i)](0),n[B(i)](0)}return n.getTime()}ue.registerClass(Be);var Fe=Be,Ve=ue.prototype,Ye=Te.prototype,Xe=u,Ue=Math.floor,Ze=Math.ceil,je=Math.pow,qe=Math.log,Ke=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Te,e._interval=0,e}return c(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,i=this._extent,n=e.getExtent(),o=Ye.getTicks.call(this,t);return a(o,(function(t){var e=t.value,o=u(je(this.base,e));return o=e===i[0]&&this._fixMin?$e(o,n[0]):o,{value:o=e===i[1]&&this._fixMax?$e(o,n[1]):o}}),this)},e.prototype.setExtent=function(t,e){var i=this.base;t=qe(t)/qe(i),e=qe(e)/qe(i),Ye.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Ve.getExtent.call(this);e[0]=je(t,e[0]),e[1]=je(t,e[1]);var i=this._originalScale.getExtent();return this._fixMin&&(e[0]=$e(e[0],i[0])),this._fixMax&&(e[1]=$e(e[1],i[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=qe(t[0])/qe(e),t[1]=qe(t[1])/qe(e),Ve.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=j(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var o=[u(Ze(e[0]/n)*n),u(Ue(e[1]/n)*n)];this._interval=n,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){Ye.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return xe(t=qe(t)/qe(this.base),this._extent)},e.prototype.normalize=function(t){return me(t=qe(t)/qe(this.base),this._extent)},e.prototype.scale=function(t){return t=ye(t,this._extent),je(this.base,t)},e.type="log",e}(ue),Qe=Ke.prototype;function $e(t,e){return Xe(t,l(e))}Qe.getMinorTicks=Ye.getMinorTicks,Qe.getLabel=Ye.getLabel,ue.registerClass(Ke);var Je=Ke,ti=function(){function t(t,e,i){this._prepareParams(t,e,i)}return t.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);q(o)?this._modelMinNum=ni(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=ni(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(q(a)?this._modelMaxNum=ni(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=ni(t,a)),n)this._axisDataLen=e.getCategories().length;else{var r=e.get("boundaryGap"),s=p(r)?r:[r||0,r||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Q(s[0],1),Q(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,n=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),r="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,l=null!=r,u=null!=s;null==r&&(r=t?n?0:NaN:e-o[0]*a),null==s&&(s=t?n?n-1:NaN:i+o[1]*a),(null==r||!isFinite(r))&&(r=NaN),(null==s||!isFinite(s))&&(s=NaN);var h=K(r)||K(s)||t&&!n;this._needCrossZero&&(r>0&&s>0&&!l&&(r=0),r<0&&s<0&&!u&&(s=0));var d=this._determinedMin,c=this._determinedMax;return null!=d&&(r=d,l=!0),null!=c&&(s=c,u=!0),{min:r,max:s,minFixed:l,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[ii[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){this[ei[t]]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),ei={min:"_determinedMin",max:"_determinedMax"},ii={min:"_dataMin",max:"_dataMax"};function ni(t,e){return null==e?null:K(e)?NaN:t.parse(e)}function oi(t,e){var n=t.type,o=function(t,e,i){var n=t.rawExtentInfo;return n||(n=new ti(t,e,i),t.rawExtentInfo=n,n)}(t,e,t.getExtent()).calculate();t.setBlank(o.isBlank);var a=o.min,r=o.max,s=e.ecModel;if(s&&"time"===n){var l=Ae("bar",s),u=!1;if(i(l,(function(t){u=u||t.getBaseAxis()===e.axis})),u){var h=Pe(l),d=function(t,e,n,o){var a=n.axis.getExtent(),r=a[1]-a[0],s=function(t,e,i){if(t&&e){var n=t[De(e)];return null!=n&&null!=i?n[ke(i)]:n}}(o,n.axis);if(void 0===s)return{min:t,max:e};var l=1/0;i(s,(function(t){l=Math.min(t.offset,l)}));var u=-1/0;i(s,(function(t){u=Math.max(t.offset+t.width,u)})),l=Math.abs(l),u=Math.abs(u);var h=l+u,d=e-t,c=d/(1-(l+u)/r)-d;return{min:t-=c*(l/h),max:e+=c*(u/h)}}(a,r,e,h);a=d.min,r=d.max}}return{extent:[a,r],fixMin:o.minFixed,fixMax:o.maxFixed}}function ai(t){var e,i,o=t.getLabelModel().get("formatter"),a="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(i=o,function(e,n){return t.scale.getFormattedLabel(e,n,i)}):n(o)?function(e){return function(i){var n=t.scale.getLabel(i);return e.replace("{value}",null!=n?n:"")}}(o):q(o)?(e=o,function(i,n){return null!=a&&(n=i.value-a),e(ri(t,i),n,null!=i.level?{level:i.level}:null)}):function(e){return t.scale.getLabel(e)}}function ri(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function si(t,e){var i=e*Math.PI/180,n=t.width,o=t.height,a=n*Math.abs(Math.cos(i))+Math.abs(o*Math.sin(i)),r=n*Math.abs(Math.sin(i))+Math.abs(o*Math.cos(i));return new $(t.x,t.y,a,r)}function li(t){var e=t.get("interval");return null==e?"auto":e}function ui(t){return"category"===t.type&&0===li(t.getLabelModel())}function hi(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?"onZero":s,u=o.dim,h=n.getRect(),d=[h.x,h.x+h.width,h.y,h.y+h.height],c={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,f="x"===u?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(r){var g=r.toGlobalCoord(r.dataToCoord(0));f[c.onZero]=Math.max(Math.min(g,f[1]),f[0])}a.position=["y"===u?f[c[l]]:d[0],"x"===u?f[c[l]]:d[3]],a.rotation=Math.PI/2*("x"===u?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=r?f[c[s]]-f[c.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),tt(i.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===l?-v:v,a.z2=1,a}var di=Math.PI,ci=function(){function t(t,e){this.group=new mt,this.opt=e,this.axisModel=t,vt(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new mt({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!pi[t]},t.prototype.add=function(t){pi[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,o,a=dt(e-t);return ct(a)?(o=i>0?"top":"bottom",n="center"):ct(a-di)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=a>0&&a<di?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:n,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),pi={axisLine:function(t,e,o,a){var r=e.get(["axisLine","show"]);if("auto"===r&&t.handleAutoShown&&(r=t.handleAutoShown("axisLine")),r){var s=e.axis.getExtent(),l=a.transform,u=[s[0],0],h=[s[1],0];l&&(it(u,u,l),it(h,h,l));var d=nt({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new ot({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:d,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",o.add(c);var p=e.get(["axisLine","symbol"]);if(null!=p){var f=e.get(["axisLine","symbolSize"]);n(p)&&(p=[p,p]),(n(f)||T(f))&&(f=[f,f]);var g=at(e.get(["axisLine","symbolOffset"])||0,f),v=f[0],x=f[1];i([{rotate:t.rotation+Math.PI/2,offset:g[0],r:0},{rotate:t.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((u[0]-h[0])*(u[0]-h[0])+(u[1]-h[1])*(u[1]-h[1]))}],(function(e,i){if("none"!==p[i]&&null!=p[i]){var n=rt(p[i],-v/2,-x/2,v,x,d.stroke,!0),a=e.r+e.offset;n.attr({rotation:e.rotate,x:u[0]+a*Math.cos(t.rotation),y:u[1]-a*Math.sin(t.rotation),silent:!0,z2:11}),o.add(n)}}))}}},axisTickLabel:function(t,e,n,o){var r=function(t,e,i,n){var o=i.axis,a=i.getModel("axisTick"),r=a.get("show");if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisTick")),r&&!o.scale.isBlank()){for(var s=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=xi(o.getTicksCoords(),e.transform,l,vt(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}}(n,o,e,t),l=function(t,e,n,o){var a=n.axis;if(tt(o.axisLabelShow,n.get(["axisLabel","show"]))&&!a.scale.isBlank()){var r=n.getModel("axisLabel"),l=r.get("margin"),u=a.getViewLabels(),h=(tt(o.labelRotate,r.get("rotate"))||0)*di/180,d=ci.innerTextLayout(o.rotation,h,o.labelDirection),c=n.getCategories&&n.getCategories(!0),p=[],f=ci.isLabelSilent(n),g=n.get("triggerEvent");return i(u,(function(i,u){var h="ordinal"===a.scale.type?a.scale.getRawOrdinalNumber(i.tickValue):i.tickValue,v=i.formattedLabel,x=i.rawLabel,m=r;if(c&&c[h]){var y=c[h];s(y)&&y.textStyle&&(m=new xt(y.textStyle,r,n.ecModel))}var _=m.getTextColor()||n.get(["axisLine","lineStyle","color"]),b=a.dataToCoord(h),w=new st({x:b,y:o.labelOffset+o.labelDirection*l,rotation:d.rotation,silent:f,z2:10+(i.level||0),style:lt(m,{text:v,align:m.getShallow("align",!0)||d.textAlign,verticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||d.textVerticalAlign,fill:q(_)?_("category"===a.type?x:"value"===a.type?h+"":h,u):_})});if(w.anid="label_"+h,g){var M=ci.makeAxisEventDataBase(n);M.targetType="axisLabel",M.value=x,M.tickIndex=u,"category"===a.type&&(M.dataIndex=h),ht(w).eventData=M}e.add(w),w.updateTransform(),p.push(w),t.add(w),w.decomposeTransform()})),p}}(n,o,e,t);(function(t,e,i){if(!ui(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);i=i||[];var a=(e=e||[])[0],r=e[1],s=e[e.length-1],l=e[e.length-2],u=i[0],h=i[1],d=i[i.length-1],c=i[i.length-2];!1===n?(fi(a),fi(u)):gi(a,r)&&(n?(fi(r),fi(h)):(fi(a),fi(u))),!1===o?(fi(s),fi(d)):gi(l,s)&&(o?(fi(l),fi(c)):(fi(s),fi(d)))}})(e,l,r),function(t,e,i,n){var o=i.axis,a=i.getModel("minorTick");if(a.get("show")&&!o.scale.isBlank()){var r=o.getMinorTicksCoords();if(r.length)for(var s=a.getModel("lineStyle"),l=n*a.get("length"),u=vt(s.getLineStyle(),vt(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),h=0;h<r.length;h++)for(var d=xi(r[h],e.transform,l,u,"minorticks_"+h),c=0;c<d.length;c++)t.add(d[c])}}(n,o,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])&&function(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var i=new $(0,0,0,0);function n(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var o=0;o<t.length;o++){var a=t[o],r=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,h=a.labelLine;i.copy(a.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var d=a.obb,c=!1,p=0;p<e.length;p++){var f=e[p];if(i.intersect(f.rect)){if(r&&f.axisAligned){c=!0;break}if(f.obb||(f.obb=new J(f.localRect,f.transform)),d||(d=new J(s,l)),d.intersect(f.obb)){c=!0;break}}}c?(n(u),h&&n(h)):(u.attr("ignore",a.defaultAttr.ignore),h&&h.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}(function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n.defaultAttr.ignore){var o=n.label,a=o.getComputedTransform(),r=o.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=o.style.margin||0,u=r.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new J(r,a):null;e.push({label:o,labelLine:n.labelLine,rect:u,localRect:r,obb:h,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return e}(a(l,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}))))},axisName:function(t,e,i,n){var o=tt(t.axisName,e.get("name"));if(o){var a,r,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,d=e.axis.getExtent(),c=d[0]>d[1]?-1:1,p=["start"===s?d[0]-c*h:"end"===s?d[1]+c*h:(d[0]+d[1])/2,vi(s)?t.labelOffset+l*h:0],f=e.get("nameRotate");null!=f&&(f=f*di/180),vi(s)?a=ci.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(a=function(t,e,i,n){var o,a,r=dt(i-t),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return ct(r-di/2)?(a=l?"bottom":"top",o="center"):ct(r-1.5*di)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*di&&r>di/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}(t.rotation,s,f||0,d),null!=(r=t.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(a.rotation)),!isFinite(r)&&(r=null)));var g=u.getFont(),v=e.get("nameTruncate",!0)||{},x=v.ellipsis,m=tt(t.nameTruncateMaxWidth,v.maxWidth,r),y=new st({x:p[0],y:p[1],rotation:a.rotation,silent:ci.isLabelSilent(e),style:lt(u,{text:o,font:g,overflow:"truncate",width:m,ellipsis:x,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||a.textAlign,verticalAlign:u.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(ut({el:y,componentModel:e,itemName:o}),y.__fullText=o,y.anid="name",e.get("triggerEvent")){var _=ci.makeAxisEventDataBase(e);_.targetType="axisName",_.name=o,ht(y).eventData=_}n.add(y),y.updateTransform(),i.add(y),y.decomposeTransform()}}};function fi(t){t&&(t.ignore=!0)}function gi(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var o=pt([]);return ft(o,o,-t.rotation),i.applyTransform(gt([],o,t.getLocalTransform())),n.applyTransform(gt([],o,e.getLocalTransform())),i.intersect(n)}}function vi(t){return"middle"===t||"center"===t}function xi(t,e,i,n,o){for(var a=[],r=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;r[0]=u,r[1]=0,s[0]=u,s[1]=i,e&&(it(r,r,e),it(s,s,e));var h=new ot({subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});h.anid=o+"_"+t[l].tickValue,a.push(h)}return a}var mi=t("A",ci);function yi(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var o=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),r=a.get("link",!0)||[],s=[];i(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var l=Ti(n.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=n;var h=n.model.getModel("tooltip",o);if(i(n.getAxes(),yt(f,!1,null)),n.getTooltipAxes&&o&&h.get("show")){var d="axis"===h.get("trigger"),c="cross"===h.get(["axisPointer","type"]),p=n.getTooltipAxes(h.get(["axisPointer","axis"]));(d||c)&&i(p.baseAxes,yt(f,!c||"cross",d)),c&&i(p.otherAxes,yt(f,"cross",!1))}}function f(o,l,d){var c=d.model.getModel("axisPointer",a),p=c.get("show");if(p&&("auto"!==p||o||Mi(c))){null==l&&(l=c.get("triggerTooltip")),c=o?function(t,e,n,o,a,r){var s=e.getModel("axisPointer"),l={};i(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){l[t]=_t(s.get(t))})),l.snap="category"!==t.type&&!!r,"cross"===s.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===a){var h=s.get(["label","show"]);if(u.show=null==h||h,!r){var d=l.lineStyle=s.get("crossStyle");d&&vt(u,d.textStyle)}}return t.model.getModel("axisPointer",new xt(l,n,o))}(d,h,a,e,o,l):c;var f=c.get("snap"),g=Ti(d.model),v=l||f||"category"===d.type,x=t.axesInfo[g]={key:g,axis:d,coordSys:n,axisPointerModel:c,triggerTooltip:l,involveSeries:v,snap:f,useHandle:Mi(c),seriesModels:[],linkGroup:null};u[g]=x,t.seriesInvolved=t.seriesInvolved||v;var m=function(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(_i(a[n+"AxisId"],i.id)||_i(a[n+"AxisIndex"],i.componentIndex)||_i(a[n+"AxisName"],i.name))return o}}(r,d);if(null!=m){var y=s[m]||(s[m]={axesInfo:{}});y.axesInfo[g]=x,y.mapper=r[m].mapper,x.linkGroup=y}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,o=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);n&&"none"!==o&&!1!==o&&"item"!==o&&!1!==a&&!1!==e.get(["axisPointer","show"],!0)&&i(t.coordSysAxesInfo[Ti(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function _i(t,e){return"all"===t||p(t)&&bt(t,e)>=0||t===e}function bi(t){var e=wi(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,a=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=Mi(i);null==a&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function wi(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ti(t)]}function Mi(t){return!!t.get(["handle","show"])}function Ti(t){return t.type+"||"+t.id}var Ci={},Ii=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return c(e,t),e.prototype.render=function(e,i,n,o){this.axisPointerClass&&bi(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=function(t){var e=wi(t);return e&&e.axisPointerModel}(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){Ci[t]=e},e.getAxisPointerClass=function(t){return t&&Ci[t]},e.type="axis",e}(wt),Si=t("q",Ii),ki=Mt(),Di=_t,Ai=At,Pi=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(t,e);if(r){var d=yt(Li,e,h);this.updatePointerEl(r,l,d),this.updateLabelEl(r,l,d,e)}else r=this._group=new mt,this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),i.getZr().add(r);Ni(r,e,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var r=this.animationThreshold;if(o&&n.getBandWidth()>r)return!0;if(a){var s=wi(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,o){},t.prototype.createPointerEl=function(t,e,i,n){var o=e.pointer;if(o){var a=ki(t).pointerEl=new Tt[o.type](Di(e.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var o=ki(t).labelEl=new st(Di(e.label));t.add(o),Bi(o,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=ki(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var o=ki(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),Bi(o,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,a=i.getModel("handle"),r=i.get("status");if(!a.get("show")||!r||"hide"===r)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Ct(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){It(t.event)},onmousedown:Ai(this._onHandleDragMove,this,0,0),drift:Ai(this._onHandleDragMove,this),ondragend:Ai(this._onHandleDragEnd,this)}),n.add(o)),Ni(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");p(s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,St(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){Li(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Oi(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(Oi(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(Oi(n)),ki(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),kt(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},t}();function Li(t,e,i,n){Ei(ki(i).lastProp,n)||(ki(i).lastProp=n,e?Dt(i,n,t):(i.stopAnimation(),i.attr(n)))}function Ei(t,e){if(s(t)&&s(e)){var n=!0;return i(e,(function(e,i){n=n&&Ei(t[i],e)})),!!n}return t===e}function Bi(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Oi(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Ni(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)}))}function zi(t,e,i,n,o){var a=Ri(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),r=i.getModel("label"),s=Et(r.get("padding")||0),l=r.getFont(),u=Bt(a,l),h=o.position,d=u.width+s[1]+s[3],c=u.height+s[0]+s[2],p=o.align;"right"===p&&(h[0]-=d),"center"===p&&(h[0]-=d/2);var f=o.verticalAlign;"bottom"===f&&(h[1]-=c),"middle"===f&&(h[1]-=c/2),function(t,e,i,n){var o=n.getWidth(),a=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(h,d,c,n);var g=r.get("backgroundColor");g&&"auto"!==g||(g=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:lt(r,{text:a,font:l,fill:r.getTextColor(),padding:s,backgroundColor:g}),z2:10}}function Ri(t,e,o,a,r){t=e.scale.parse(t);var s=e.scale.getLabel({value:t},{precision:r.precision}),l=r.formatter;if(l){var u={value:ri(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};i(a,(function(t){var e=o.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n&&u.seriesData.push(n)})),n(l)?s=l.replace("{value}",s):q(l)&&(s=l(u))}return s}function Hi(t,e,i){var n=Ot();return ft(n,n,i.rotation),Lt(n,n,i.position),Pt([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}var Wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.makeElOption=function(t,e,i,n,o){var a=i.axis,r=a.grid,s=n.get("type"),l=Gi(r,a).getOtherAxis(a).getGlobalExtent(),u=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&"none"!==s){var h=function(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle()).fill=null:"shadow"===i&&((e=n.getAreaStyle()).stroke=null),e}(n),d=Fi[s](a,u,l);d.style=h,t.graphicKey=d.type,t.pointer=d}!function(t,e,i,n,o,a){var r=mi.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get(["label","margin"]),zi(e,n,o,a,{position:Hi(n.axis,t,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})}(e,t,hi(r.model,i),i,n,o)},e.prototype.getHandleTransform=function(t,e,i){var n=hi(e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var o=Hi(e.axis,t,n);return{x:o[0],y:o[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=Gi(a,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(r[1],u[l]),u[l]=Math.max(r[0],u[l]);var h=(s[1]+s[0])/2,d=[h,h];return d[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(Pi);function Gi(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var Fi={line:function(t,e,i){var n,o,a;return{type:"Line",subPixelOptimize:!0,shape:(n=[e,i[0]],o=[e,i[1]],a=Vi(t),{x1:n[a=a||0],y1:n[1-a],x2:o[a],y2:o[1-a]})}},shadow:function(t,e,i){var n,o,a,r=Math.max(1,t.getBandWidth()),s=i[1]-i[0];return{type:"Rect",shape:(n=[e-r/2,i[0]],o=[r,s],a=Vi(t),{x:n[a=a||0],y:n[1-a],width:o[a],height:o[1-a]})}}};function Vi(t){return"x"===t.dim?0:1}var Yi=Wi,Xi=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return c(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Nt),Ui=Xi,Zi=Mt(),ji=i;function qi(t,e,i){if(!zt.node){var n=e.getZr();Zi(n).records||(Zi(n).records={}),function(t,e){function i(i,n){t.on(i,(function(i){var o=function(t){var e={showTip:[],hideTip:[]};return{dispatchAction:function i(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))},pendings:e}}(e);ji(Zi(t).records,(function(t){t&&n(t,i,o.dispatchAction)})),function(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}(o.pendings,e)}))}Zi(t).initialized||(Zi(t).initialized=!0,i("click",yt(Qi,"click")),i("mousemove",yt(Qi,"mousemove")),i("globalout",Ki))}(n,e),(Zi(n).records[t]||(Zi(n).records[t]={})).handler=i}}function Ki(t,e,i){t.handler("leave",null,i)}function Qi(t,e,i,n){e.handler(t,i,n)}function $i(t,e){if(!zt.node){var i=e.getZr();(Zi(i).records||{})[t]&&(Zi(i).records[t]=null)}}var Ji=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return c(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";qi("axisPointer",i,(function(t,e,i){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){$i("axisPointer",e)},e.prototype.dispose=function(t,e){$i("axisPointer",e)},e.type="axisPointer",e}(wt),tn=Ji;function en(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var r=i.getData(),s=Rt(r,t);if(null==s||s<0||p(s))return{point:[]};var l=r.getItemGraphicEl(s),u=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(t.isStacked){var h=u.getBaseAxis(),d=u.getOtherAxis(h).dim,c=h.dim,f="x"===d||"radius"===d?1:0,g=r.mapDimension(c),v=[];v[f]=r.get(g,s),v[1-f]=r.get(r.getCalculationInfo("stackResultDimension"),s),n=u.dataToPoint(v)||[]}else n=u.dataToPoint(r.getValues(a(u.dimensions,(function(t){return r.mapDimension(t)})),s))||[];else if(l){var x=l.getBoundingRect().clone();x.applyTransform(l.transform),n=[x.x+x.width/2,x.y+x.height/2]}return{point:n,el:l}}var nn=Mt();function on(t,e,n){var o=t.currTrigger,a=[t.x,t.y],r=t,s=t.dispatchAction||At(n.dispatchAction,n),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){un(a)&&(a=en({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var u=un(a),h=r.axesInfo,d=l.axesInfo,c="leave"===o||un(a),p={},f={},g={list:[],map:{}},v={showPointer:yt(rn,f),showTooltip:yt(sn,g)};i(l.coordSysMap,(function(t,e){var n=u||t.containPoint(a);i(l.coordSysAxesInfo[e],(function(t,e){var i=t.axis,o=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(h,t);if(!c&&n&&(!h||o)){var r=o&&o.value;null!=r||u||(r=i.pointToData(a)),null!=r&&an(t,r,v,!1,p)}}))}));var x={};return i(d,(function(t,e){var n=t.linkGroup;n&&!f[e]&&i(n.axesInfo,(function(e,i){var o=f[i];if(e!==t&&o){var a=o.value;n.mapper&&(a=t.axis.scale.parse(n.mapper(a,ln(e),ln(t)))),x[t.key]=a}}))})),i(x,(function(t,e){an(d[e],t,v,!0,p)})),function(t,e,n){var o=n.axesInfo=[];i(e,(function(e,i){var n=e.axisPointerModel.option,a=t[i];a?(!e.useHandle&&(n.status="show"),n.value=a.value,n.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&o.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})}))}(f,d,p),function(t,e,i,n){if(!un(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else n({type:"hideTip"})}(g,a,t,s),function(t,e,n){var o=n.getZr(),a="axisPointerLastHighlights",r=nn(o)[a]||{},s=nn(o)[a]={};i(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&i(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],u=[];i(r,(function(t,e){!s[e]&&u.push(t)})),i(s,(function(t,e){!r[e]&&l.push(t)})),u.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}(d,0,n),p}}function an(t,e,n,o,a){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var s=function(t,e){var n=e.axis,o=n.dim,a=t,r=[],s=Number.MAX_VALUE,l=-1;return i(e.seriesModels,(function(e,u){var h,d,c=e.getData().mapDimensionsAll(o);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(c,t,n);d=p.dataIndices,h=p.nestestValue}else{if(!(d=e.getData().indicesOfNearest(c[0],t,"category"===n.type?.5:null)).length)return;h=e.getData().get(c[0],d[0])}if(null!=h&&isFinite(h)){var f=t-h,g=Math.abs(f);g<=s&&((g<s||f>=0&&l<0)&&(s=g,l=f,a=h,r.length=0),i(d,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:a}}(e,t),l=s.payloadBatch,u=s.snapToValue;l[0]&&null==a.seriesIndex&&nt(a,l[0]),!o&&t.snap&&r.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,l),n.showTooltip(t,s,u)}else n.showPointer(t,e)}function rn(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function sn(t,e,i,n){var o=i.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,u=Ti(l),h=t.map[u];h||(h=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function ln(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function un(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function hn(t){Si.registerAxisPointerClass("CartesianAxisPointer",Yi),t.registerComponentModel(Ui),t.registerComponentView(tn),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!p(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=yi(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},on)}var dn=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return c(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Nt),cn=dn;function pn(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function fn(t){if(zt.domSupported)for(var e=document.documentElement.style,i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i]}var gn=fn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function vn(t,e){if(!t)return e;e=Ht(e,!0);var i=t.indexOf(e);return(t=-1===i?e:"-"+t.slice(0,i)+"-"+e).toLowerCase()}var xn=vn(fn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),mn=vn(gn,"transform"),yn="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(zt.transform3dSupported?"will-change:transform;":"");function _n(t,e,i){var n=t.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!zt.transformSupported)return i?"top:"+o+";left:"+n+";":[["top",o],["left",n]];var a=zt.transform3dSupported,r="translate"+(a?"3d":"")+"("+n+","+o+(a?",0":"")+")";return i?"top:0;left:0;"+mn+":"+r+";":[["top",0],["left",0],[gn,r]]}function bn(t,e,n){var o=[],a=t.get("transitionDuration"),r=t.get("backgroundColor"),s=t.get("shadowBlur"),l=t.get("shadowColor"),u=t.get("shadowOffsetX"),h=t.get("shadowOffsetY"),d=t.getModel("textStyle"),c=Vt(t,"html"),p=u+"px "+h+"px "+s+"px "+l;return o.push("box-shadow:"+p),e&&a&&o.push(function(t,e){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+i,o="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+i,o+=zt.transformSupported?","+mn+n:",left"+n+",top"+n),xn+":"+o}(a,n)),r&&o.push("background-color:"+r),i(["width","color","radius"],(function(e){var i="border-"+e,n=Ht(i),a=t.get(n);null!=a&&o.push(i+":"+a+("color"===e?"":"px"))})),o.push(function(t){var e=[],n=t.get("fontSize"),o=t.getTextColor();o&&e.push("color:"+o),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var a=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return a&&r&&e.push("text-shadow:"+s+"px "+l+"px "+r+"px "+a),i(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}(d)),null!=c&&o.push("padding:"+Et(c).join("px ")+"px"),o.join(";")+";"}function wn(t,e,i,n,o){var a=e&&e.painter;if(i){var r=a&&a.getViewportRoot();r&&Yt(t,r,document.body,n,o)}else{t[0]=n,t[1]=o;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Mn=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,zt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;wn(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(n):t.appendChild(n),this._container=t;var r=this;n.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!r._enterable){var e=o.handler,i=o.painter.getViewportRoot();Wt(i,t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){r._inContent=!1,r._enterable&&r._show&&r.hideLater(r._hideDelay)}}return t.prototype.update=function(t){var e,i,n,o=this._container,a=(i="position",(n=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i?n[i]:n:null),r=o.style;"absolute"!==r.position&&"absolute"!==a&&(r.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,o=this._styleCoord;i.innerHTML?n.cssText=yn+bn(t,!this._firstShow,this._longHide)+_n(o[0],o[1],!0)+"border-color:"+Gt(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,o,a){var r=this.el;if(null!=t){var s="";if(n(a)&&"item"===i.get("trigger")&&!pn(i)&&(s=function(t,e,i){if(!n(i)||"inside"===i)return"";var o=t.get("backgroundColor"),a=t.get("borderWidth");e=Gt(e);var r,s,l="left"===(r=i)?"right":"right"===r?"left":"top"===r?"bottom":"top",u=Math.max(1.5*Math.round(a),6),h="",d=mn+":";bt(["left","right"],l)>-1?(h+="top:50%",d+="translateY(-50%) rotate("+(s="left"===l?-225:-45)+"deg)"):(h+="left:50%",d+="translateX(-50%) rotate("+(s="top"===l?225:45)+"deg)");var c=s*Math.PI/180,p=u+a,f=p*Math.abs(Math.cos(c))+p*Math.abs(Math.sin(c)),g=e+" solid "+a+"px;";return'<div style="'+["position:absolute;width:"+u+"px;height:"+u+"px;",(h+=";"+l+":-"+Math.round(100*((f-Math.SQRT2*a)/2+Math.SQRT2*a-(f-p)/2))/100+"px")+";"+d+";","border-bottom:"+g,"border-right:"+g,"background-color:"+o+";"].join("")+'"></div>'}(i,o,a)),n(t))r.innerHTML=t+s;else if(t){r.innerHTML="",p(t)||(t=[t]);for(var l=0;l<t.length;l++)Ft(t[l])&&t[l].parentNode!==r&&r.appendChild(t[l]);if(s&&r.childNodes.length){var u=document.createElement("div");u.innerHTML=s,r.appendChild(u)}}}else r.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(wn(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var o=this.el.style,a=_n(n[0],n[1]);i(a,(function(t){o[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",zt.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(At(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();function Tn(t){return Math.max(0,t)}function Cn(t){var e=Tn(t.shadowBlur||0),i=Tn(t.shadowOffsetX||0),n=Tn(t.shadowOffsetY||0);return{left:Tn(e-i),right:Tn(e+i),top:Tn(e-n),bottom:Tn(e+n)}}function In(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Sn=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),In(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,o,a){var r=this;s(t)&&Xt(""),this.el&&this._zr.remove(this.el);var l=n.getModel("textStyle");this.el=new st({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:l.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Vt(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),i(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){r.el.style[t]=n.get(t)})),i(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){r.el.style[t]=l.get(t)||0})),this._zr.add(this.el);var u=this;this.el.on("mouseover",(function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0})),this.el.on("mouseout",(function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=Cn(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;In(n,this._zr,t,e),t=n[0],e=n[1];var o=i.style,a=Tn(o.borderWidth||0),r=Cn(o);i.x=t+a+r.left,i.y=e+a+r.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(At(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}(),kn=new Ut({shape:{x:-1,y:-1,width:2,height:2}}),Dn=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return c(e,t),e.prototype.init=function(t,e){if(!zt.node&&e.getDom()){var i=t.getComponent("tooltip"),n=this._renderMode=Zt(i.get("renderMode"));this._tooltipContent="richText"===n?new Sn(e):new Mn(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!zt.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?St(this,"_updatePosition",50,"fixRate"):kt(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");qi("itemTooltip",this._api,At((function(e,i,n){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(i,n):"leave"===e&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api,n=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==n&&"click"!==n){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&o.manuallyShowTip(t,e,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!zt.node&&i.getDom()){var o=Pn(n,i);this._ticket="";var a=n.dataByCoordSys,r=function(t,e,i){var n=ie(t).queryOptionMap,o=n.keys()[0];if(o&&"series"!==o){var a,r=ne(e,o,n.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(r)return i.getViewOfComponentModel(r).group.traverse((function(e){var i=ht(e).tooltipConfig;if(i&&i.name===t.name)return a=e,!0})),a?{componentMainType:o,componentIndex:r.componentIndex,el:a}:void 0}}(n,e,i);if(r){var s=r.el.getBoundingRect().clone();s.applyTransform(r.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:r.el,position:n.position,positionDefault:"bottom"},o)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=kn;l.x=n.x,l.y=n.y,l.update(),ht(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},o)}else if(a)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:a,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var u=en(n,e),h=u.point[0],d=u.point[1];null!=h&&null!=d&&this._tryShow({offsetX:h,offsetY:d,target:u.el,position:n.position,positionDefault:"bottom"},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(Pn(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var o=n.seriesIndex,a=n.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=e.getSeriesByIndex(o);if(s&&"axis"===An([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}},e.prototype._tryShow=function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;if(n&&n.length)this._showAxisTooltip(n,t);else if(i){var o,a;this._lastDataByCoordSys=null,jt(i,(function(t){return null!=ht(t).dataIndex?(o=t,!0):null!=ht(t).tooltipConfig?(a=t,!0):void 0}),!0),o?this._showSeriesItemTooltip(t,o,e):a?this._showComponentItemTooltip(t,a,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=At(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,o=this._tooltipModel,a=[e.offsetX,e.offsetY],r=An([e.tooltipOption],o),s=this._renderMode,l=[],u=qt("section",{blocks:[],noHeader:!0}),h=[],d=new Kt;i(t,(function(t){i(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),a=t.value;if(e&&null!=a){var r=Ri(a,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),c=qt("section",{header:r,noHeader:!Qt(r),sortBlocks:!0,blocks:[]});u.blocks.push(c),i(t.seriesDataIndices,(function(i){var u=n.getSeriesByIndex(i.seriesIndex),p=i.dataIndexInside,f=u.getDataParams(p);if(!(f.dataIndex<0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=ri(e.axis,{value:a}),f.axisValueLabel=r,f.marker=d.makeTooltipMarker("item",Gt(f.color),s);var g=$t(u.formatTooltip(p,!0,null)),v=g.frag;if(v){var x=An([u],o).get("valueFormatter");c.blocks.push(x?nt({valueFormatter:x},v):v)}g.text&&h.push(g.text),l.push(f)}}))}}))})),u.blocks.reverse(),h.reverse();var c=e.position,p=r.get("order"),f=Jt(u,d,s,p,n.get("useUTC"),r.get("textStyle"));f&&h.unshift(f);var g="richText"===s?"\n\n":"<br/>",v=h.join(g);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(r,c,a[0],a[1],this._tooltipContent,l):this._showTooltipContent(r,v,l,Math.random()+"",a[0],a[1],c,null,d)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=this._ecModel,o=ht(e),a=o.seriesIndex,r=n.getSeriesByIndex(a),s=o.dataModel||r,l=o.dataIndex,u=o.dataType,h=s.getData(u),d=this._renderMode,c=t.positionDefault,p=An([h.getItemModel(l),s,r&&(r.coordinateSystem||{}).model],this._tooltipModel,c?{position:c}:null),f=p.get("trigger");if(null==f||"item"===f){var g=s.getDataParams(l,u),v=new Kt;g.marker=v.makeTooltipMarker("item",Gt(g.color),d);var x=$t(s.formatTooltip(l,!1,u)),m=p.get("order"),y=p.get("valueFormatter"),_=x.frag,b=_?Jt(y?nt({valueFormatter:y},_):_,v,d,m,n.get("useUTC"),p.get("textStyle")):x.text,w="item_"+s.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,b,g,w,t.offsetX,t.offsetY,t.position,t.target,v)})),i({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var o=ht(e),a=o.tooltipConfig.option||{};n(a)&&(a={content:a,formatter:a});var r=[a],s=this._ecModel.getComponent(o.componentMainType,o.componentIndex);s&&r.push(s),r.push({formatter:a.content});var l=t.positionDefault,u=An(r,this._tooltipModel,l?{position:l}:null),h=u.get("content"),d=Math.random()+"",c=new Kt;this._showOrMove(u,(function(){var i=_t(u.get("formatterParams")||{});this._showTooltipContent(u,h,i,d,t.offsetX,t.offsetY,t.position,e,c)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,o,a,r,s,l,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var d=t.get("formatter");s=s||t.get("position");var c=e,f=this._getNearestPoint([a,r],i,t.get("trigger"),t.get("borderColor")).color;if(d)if(n(d)){var g=t.ecModel.get("useUTC"),v=p(i)?i[0]:i;c=d,v&&v.axisType&&v.axisType.indexOf("time")>=0&&(c=m(v.axisValue,c,g)),c=te(c,i,!0)}else if(q(d)){var x=At((function(e,n){e===this._ticket&&(h.setContent(n,u,t,f,s),this._updatePosition(t,s,a,r,h,i,l))}),this);this._ticket=o,c=d(i,o,x)}else c=d;h.setContent(c,u,t,f,s),h.show(t,f),this._updatePosition(t,s,a,r,h,i,l)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||p(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:p(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,i,o,a,r,l){var u=this._api.getWidth(),h=this._api.getHeight();e=e||t.get("position");var d=a.getSize(),c=t.get("align"),f=t.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),q(e)&&(e=e([i,o],r,a.el,g,{viewSize:[u,h],contentSize:d.slice()})),p(e))i=v(e[0],u),o=v(e[1],h);else if(s(e)){var x=e;x.width=d[0],x.height=d[1];var m=ee(x,{width:u,height:h});i=m.x,o=m.y,c=null,f=null}else if(n(e)&&l){var y=function(t,e,i,n){var o=i[0],a=i[1],r=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,u=e.width,h=e.height;switch(t){case"inside":s=e.x+u/2-o/2,l=e.y+h/2-a/2;break;case"top":s=e.x+u/2-o/2,l=e.y-a-r;break;case"bottom":s=e.x+u/2-o/2,l=e.y+h+r;break;case"left":s=e.x-o-r,l=e.y+h/2-a/2;break;case"right":s=e.x+u+r,l=e.y+h/2-a/2}return[s,l]}(e,g,d,t.get("borderWidth"));i=y[0],o=y[1]}else y=function(t,e,i,n,o,a,r){var s=i.getSize(),l=s[0],u=s[1];return null!=a&&(t+l+a+2>n?t-=l+a:t+=a),null!=r&&(e+u+r>o?e-=u+r:e+=r),[t,e]}(i,o,a,u,h,c?null:20,f?null:20),i=y[0],o=y[1];c&&(i-=Ln(c)?d[0]/2:"right"===c?d[0]:0),f&&(o-=Ln(f)?d[1]/2:"bottom"===f?d[1]:0),pn(t)&&(y=function(t,e,i,n,o){var a=i.getSize(),r=a[0],s=a[1];return t=Math.min(t+r,n)-r,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(i,o,a,u,h),i=y[0],o=y[1]),a.moveTo(i,o)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,o=this._cbParamsList,a=!!n&&n.length===t.length;return a&&i(n,(function(n,r){var s=n.dataByAxis||[],l=(t[r]||{}).dataByAxis||[];(a=a&&s.length===l.length)&&i(s,(function(t,n){var r=l[n]||{},s=t.seriesDataIndices||[],u=r.seriesDataIndices||[];(a=a&&t.value===r.value&&t.axisType===r.axisType&&t.axisId===r.axisId&&s.length===u.length)&&i(s,(function(t,e){var i=u[e];a=a&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),o&&i(t.seriesDataIndices,(function(t){var i=t.seriesIndex,n=e[i],r=o[i];n&&r&&r.data!==n.data&&(a=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!a},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!zt.node&&e.getDom()&&(kt(this,"_updatePosition"),this._tooltipContent.dispose(),$i("itemTooltip",e))},e.type="tooltip",e}(wt);function An(t,e,i){var o,a=e.ecModel;i?(o=new xt(i,a,a),o=new xt(e.option,o,a)):o=e;for(var r=t.length-1;r>=0;r--){var s=t[r];s&&(s instanceof xt&&(s=s.get("tooltip",!0)),n(s)&&(s={formatter:s}),s&&(o=new xt(s,o,a)))}return o}function Pn(t,e){return t.dispatchAction||At(e.dispatchAction,e)}function Ln(t){return"center"===t||"middle"===t}var En=Dn;t("g",(function(t,e){return re.get("/data/chart",{params:t},e)}))}}}));
