import{w as o,n as u}from"./index.ec256302.js";import"./ui.c0058d49.js";const s={img:{type:["png","jpg","jpeg"],album:"./img/img.png"},word:{type:["doc","docx"],album:"./img/word.png"},excel:{type:["xls","xlsx"],album:"./img/excel.png"},ppt:{type:["ppt","pptx"],album:"./img/ppt.png"},pdf:{type:["pdf"],album:"./img/pdf.png"},video:{type:["mp4","wmv","mov"],album:"./img/video.png"},txt:{type:["txt"],album:"./img/txt.png"},rar:{type:["rar","zip"],album:"./img/rar.png"},default:{type:[],album:"./img/other.png"}},p=(t,e)=>{let l=s.default.album;if(!t)return console.warn("dynamicAlbum()\u53C2\u6570\u5F02\u5E38\uFF1A",t,e),l;let n=o(t);const a=Object.keys(s).findIndex(i=>s[i].type.findIndex(r=>r===n)!==-1);if(a!==-1){let i=Object.keys(s)[a];i==="img"&&e?l=t:l=s[i].album}return l};const c={model:{prop:"value",event:"change"},props:{value:{type:Array,required:!1,default:()=>[]},readonly:{type:Boolean,required:!1,default:!1},previewImgOnThumb:{type:Boolean,required:!1,default:!1},onClick:{type:Function,required:!1,default(t){t&&t.url&&window.open(t.url)}},beforeDelete:{type:Function,required:!1,default(t,e){return console.log(`delete item: ${t}, index: ${e}`),!0}}},filters:{dynamicAlbum:p},data(){return{list:[]}},watch:{value:{deep:!0,immediate:!0,handler(){this.list=this.value}}},methods:{handleRemove(t,e){new Promise(n=>{n(this.beforeDelete(t,e))}).then(n=>{n?(this.list.splice(e,1),this.$emit("change",this.list)):console.warn("\u6587\u4EF6\u5217\u8868\u5220\u9664\u9A8C\u8BC1\u5931\u8D25\uFF1A",n)})}}};var d=function(){var e=this,l=e._self._c;return l("ul",{staticClass:"fileList"},e._l(e.list,function(n,a){return l("li",{key:a,staticClass:"_item"},[l("div",{staticClass:"flex-row align-center"},[l("div",{staticClass:"_avatar",on:{click:function(i){return e.onClick(n)}}},[l("img",{attrs:{src:e._f("dynamicAlbum")(n.url,e.previewImgOnThumb)}})]),l("el-link",{staticClass:"flex-1 _title el",attrs:{underline:!1},on:{click:function(i){return e.onClick(n)}}},[e._v(" "+e._s(n.name)+" ")]),e.readonly?e._e():l("i",{staticClass:"_btn el-icon-delete-solid",attrs:{title:"\u5220\u9664"},on:{click:function(i){return e.handleRemove(n,a)}}})],1)])}),0)},f=[],m=u(c,d,f,!1,null,"7dfd9fb1",null,null);const v=m.exports;export{v as default};
