import{n as c,M as u,d as h}from"./index.ec256302.js";import"./ui.c0058d49.js";let o=function(l,e){return l.filter(t=>!t.meta||!t.meta.hide).map(t=>{const n=h(t);let a=n.path.indexOf("/")===0?n.path:[e,n.path].join(e==="/"?"":"/");return n.fullPath=a,n.meta||(n.meta={}),Array.isArray(n.children)&&(n.children=o(n.children,a)),n})};const f={props:{subMenu:{type:Boolean,required:!1,default:!1}},data(){return{state:this.$store.state,list:[],showMenu:!0}},computed:{menu:function(){return[{name:"\u6570\u636E\u53EF\u89C6\u5316",meta:{icon:"el-icon-s-platform"}},...this.$AccessControl?this.state.DynamicRoute[0].children:o(u[0].children)]},activeIndex(){return this.$route.meta&&this.$route.meta.belong?this.$route.meta.belong:this.$route.name}},watch:{$route:{handler(l){if(!this.subMenu)return null;let e=-1;if(Array.isArray(this.list)&&(e=this.list.findIndex(s=>l.path.indexOf(s.fullPath)===0)),e===-1){let s=this.menu.slice(),t;for(let n=0;n<s.length;n++)if(this.$route.path.indexOf(s[n].path)===0&&s[n].children){t=s[n].children;break}this.list=t,this.showMenu=!1,this.$nextTick(()=>{this.showMenu=!0})}},immediate:!0}},created(){this.subMenu||(this.list=this.menu)}};var d=function(){var e=this,s=e._self._c;return e.showMenu?s("div",{staticClass:"custom-menu scrollbar"},[s("el-menu",{attrs:{"default-active":e.activeIndex,router:"","unique-opened":""}},[e._l(e.list,function(t,n){return[t.children&&t.children.length?s("el-submenu",{key:"nav"+n,attrs:{route:t,index:t.name}},[s("div",{staticClass:"first flex-row align-center",attrs:{slot:"title"},slot:"title"},[s("i",{class:["ico",t.meta&&t.meta.icon||"el-icon-s-order"]}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(t.meta&&t.meta.title||t.name)+" ")])]),e._l(t.children,function(a,r){return[a.children&&a.children.length?[s("el-menu-item",{key:"child"+r,staticClass:"second",attrs:{route:a,index:a.name}},[s("span",{staticClass:"flex-row align-center",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(a.meta&&a.meta.title||a.name)+" ")])]),e._l(a.children,function(i,m){return s("el-menu-item",{key:"grandson"+m,staticClass:"third",attrs:{route:i,index:i.name}},[s("span",{staticClass:"flex-row align-center",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(i.meta&&i.meta.title||i.name)+" ")])])})]:s("el-menu-item",{key:"child2"+r,staticClass:"second",attrs:{route:a,index:a.name}},[s("span",{staticClass:"flex-row align-center",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(a.meta&&a.meta.title||a.name)+" ")])])]})],2):s("el-menu-item",{key:"nav"+n,staticClass:"flex-row align-center one",attrs:{route:t,index:t.name}},[s("i",{class:["ico",t.meta&&t.meta.icon||"el-icon-s-order"]}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(t.meta&&t.meta.title||t.name)+" ")])])]})],2)],1):e._e()},_=[],p=c(f,d,_,!1,null,"804e6480",null,null);const y=p.exports;export{y as default};
