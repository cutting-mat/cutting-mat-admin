!function(){var t=document.createElement("style");t.innerHTML=".widget-chart-line[data-v-72153588]{width:100%;height:100%}.demo[data-v-7219abc6]{height:300px}\n",document.head.appendChild(t),System.register(["./variate-legacy.6823138b.js","./index-legacy.12ea6fe0.js","./points-legacy.18c35361.js","./index-legacy.cfcc9615.js","./ui-legacy.77070732.js","./axisAlignTicks-legacy.2b96cb60.js"],(function(t){"use strict";var e,r,a,n,i,o,s,h,l,c,u,p,d,f,y,g,v,m,_,x;return{setters:[function(t){e=t._,r=t.e,a=t.aG,n=t.P,i=t.G,o=t.c,s=t.p,h=t.u,l=t.V,c=t.W,u=t.X,p=t.Y},function(t){d=t.n},function(t){f=t.c,y=t.p,g=t.S,v=t.d,m=t.i},function(t){_=t.b,x=t.g},function(){},function(){}],execute:function(){var b=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.type,e.hasSymbolVisual=!0,e}return e(r,t),r.prototype.getInitialData=function(t,e){return f(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},r.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},r.prototype.brushSelector=function(t,e,r){return r.point(e.getItemLayout(t))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},r}(r),w=b,S=function(){},D=function(t){function r(e){var r=t.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return e(r,t),r.prototype.getDefaultShape=function(){return new S},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(t,e){var r,a=e.points,n=e.size,i=this.symbolProxy,o=i.shape,s=t.getContext?t.getContext():t,h=s&&n[0]<4,l=this.softClipShape;if(h)this._ctx=s;else{for(this._ctx=null,r=this._off;r<a.length;){var c=a[r++],u=a[r++];isNaN(c)||isNaN(u)||(l&&!l.contain(c,u)||(o.x=c-n[0]/2,o.y=u-n[1]/2,o.width=n[0],o.height=n[1],i.buildPath(t,o,!0)))}this.incremental&&(this._off=r,this.notClear=!0)}},r.prototype.afterBrush=function(){var t,e=this.shape,r=e.points,a=e.size,n=this._ctx,i=this.softClipShape;if(n){for(t=this._off;t<r.length;){var o=r[t++],s=r[t++];isNaN(o)||isNaN(s)||(i&&!i.contain(o,s)||n.fillRect(o-a[0]/2,s-a[1]/2,a[0],a[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},r.prototype.findDataIndex=function(t,e){for(var r=this.shape,a=r.points,n=r.size,i=Math.max(n[0],4),o=Math.max(n[1],4),s=a.length/2-1;s>=0;s--){var h=2*s,l=a[h]-i/2,c=a[h+1]-o/2;if(t>=l&&e>=c&&t<=l+i&&e<=c+o)return s}return-1},r.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e),a=this.getBoundingRect();return t=r[0],e=r[1],a.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},r.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,r=e.points,n=e.size,i=n[0],o=n[1],s=1/0,h=1/0,l=-1/0,c=-1/0,u=0;u<r.length;){var p=r[u++],d=r[u++];s=Math.min(p,s),l=Math.max(p,l),h=Math.min(d,h),c=Math.max(d,c)}t=this._rect=new a(s-i/2,h-o/2,l-s+i,c-h+o)}return t},r}(n),C=function(){function t(){this.group=new i}return t.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var r=2*(t.endIndex-t.startIndex),a=4*t.startIndex*2;e=new Float32Array(e.buffer,a,r)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,r){var a=this._newAdded[0],n=e.getLayout("points"),i=a&&a.shape.points;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+n.length);s.set(i),s.set(n,o),a.endIndex=t.end,a.setShape({points:s})}else{this._newAdded=[];var h=this._create();h.startIndex=t.start,h.endIndex=t.end,h.incremental=!0,h.setShape({points:n}),this._setCommon(h,e,r)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new D({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,r){var a=e.hostModel;r=r||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]),t.softClipShape=r.clipShape||null,t.symbolProxy=o(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var i=t.shape.size[0]<4;t.useStyle(a.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var h=e.getVisual("style"),l=h&&h.fill;l&&t.setColor(l);var c=s(t);c.seriesIndex=a.seriesIndex,t.on("mousemove",(function(e){c.dataIndex=null;var r=t.hoverDataIdx;r>=0&&(c.dataIndex=r+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),A=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.type,e}return e(r,t),r.prototype.render=function(t,e,r){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(t,e,r){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},r.prototype.incrementalRender=function(t,e,r){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},r.prototype.updateTransform=function(t,e,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var n=y("").reset(t,e,r);n.progress&&n.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},r.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},r.prototype._getClipShape=function(t){var e=t.coordinateSystem,r=e&&e.getArea&&e.getArea();return t.get("clip",!0)?r:null},r.prototype._updateSymbolDraw=function(t,e){var r=this._symbolDraw,a=e.pipelineContext.large;return r&&a===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=a?new C:new g,this._isLargeDraw=a,this.group.removeAll()),this.group.add(r.group),r},r.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(h),I=A;var L=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"widget-chart-line",attrs:{id:t.domid}})},M=[];l([m,_,function(t){l(v),t.registerSeriesModel(w),t.registerChartView(I),t.registerLayout(y("scatter"))},c]);var z={},P=d({name:"ChartScatter",props:{data:{type:Array,require:!0,default:function(){return[]}},colors:{type:String,require:!1,default:function(){return u[0]}},name:{type:Array,require:!0,default:function(){return[]}}},data:function(){return{domid:"domid-".concat(parseInt(1e8*Math.random())),chartObj:null}},methods:{handleArray:function(t){var e=this,r=[],a=[];return(r=this.data.slice(2*t,2*(t+1))).forEach((function(n,i){var o=i+1;o<r.length&&n.value.forEach((function(i,s){var h=[],l=1e8*Math.floor(10*Math.random()+1);h.push(i,r[o].value[s],l,n.label[s],e.name[t]),a.push(h)}))})),a},hanleData:function(){for(var t=parseInt(this.data.length/2),e=[],r=0;r<t;r++){var a=[],n=this.handleArray(r);a.push(n);var i={value:a,name:this.name[r]};e.push(i)}return e},render:function(){var t=null,e=null;this.hanleData().forEach((function(r){t=r.name,e=r.value}));var r={grid:{top:"15%",left:"7%",bottom:"15%",right:"5%",containLabel:!0},xAxis:{boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(0,0,0,0.45)"}},axisTick:{show:!1},axisLabel:{color:"rgba(0,0,0,0.45)",fontSize:12}},yAxis:{type:"value",axisLabel:{color:"rgba(0,0,0,0.45)",interval:"2",fontSize:12},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(0,0,0,0.15)"}},scale:!0},series:[{name:t,data:e[0],type:"scatter",symbolSize:function(t){return Math.sqrt(t[2])/500},emphasis:{label:{show:!0,formatter:function(t){return t.data[1]+":"+t.data[0]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:this.colors}}]};this.chartObj.setOption(r)}},mounted:function(){var t=this;this.chartObj&&this.chartObj.dispose(),this.chartObj=p(document.getElementById(this.domid)),this.$watch((function(){return t.data}),(function(){Array.isArray(t.data)&&t.data.length>0&&t.render(t.data)}),{immediate:!0,deep:!0})}},L,M,!1,T,"72153588",null,null);function T(t){for(var e in z)this[e]=z[e]}var j=function(){return P.exports}(),E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"example"},[r("h2",[t._v("简介")]),r("p",[t._v("基于Echart封装的散点图组件")]),r("h2",[t._v("示例")]),r("p",[t._v("data(Array)：通用图表格式")]),r("p",[t._v("colors(String)：用来描点的颜色；默认全局色表")]),r("p",[t._v("name(Array)：数据名称，数组长度与'data'保持一致")]),r("div",{staticClass:"demo"},[r("chart-scatter",{attrs:{data:t.data}})],1),t._m(0)])},N=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("pre",{staticClass:"code"},[t._v("      "),r("textarea",{attrs:{readonly:""}},[t._v('      <chart-scatter :data="data" />\n      ')]),t._v("\n  ")])}],O={},R=d({components:{ChartScatter:j},data:function(){return{data:[]}},methods:{fetchData:function(t,e){return x(t,e).then((function(t){return t.data}))}},created:function(){var t=this;this.fetchData(null,{cache:!1}).then((function(e){t.data=e}))}},E,N,!1,B,"7219abc6",null,null);function B(t){for(var e in O)this[e]=O[e]}t("default",function(){return R.exports}())}}}))}();
