!function(){var t=document.createElement("style");t.innerHTML=".widget-chart-line[data-v-df311ba2]{width:100%;height:100%}.demo[data-v-3e97d32e]{height:300px}\n",document.head.appendChild(t),System.register(["./variate-legacy.6823138b.js","./index-legacy.19397424.js","./points-legacy.6847c107.js","./install-legacy.b463bcbe.js","./ui-legacy.77070732.js","./axisAlignTicks-legacy.4ee0448a.js"],(function(t){"use strict";var e,a,r,n,i,o,s,l,h,u,c,d,p,f,y,g,m,v,_;return{setters:[function(t){e=t._,a=t.e,r=t.aG,n=t.P,i=t.G,o=t.c,s=t.p,l=t.u,h=t.V,u=t.W,c=t.X,d=t.Y},function(t){p=t.n},function(t){f=t.c,y=t.p,g=t.S,m=t.d,v=t.i},function(t){_=t.b},function(){},function(){}],execute:function(){var b=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.type,e.hasSymbolVisual=!0,e}return e(a,t),a.prototype.getInitialData=function(t,e){return f(null,this,{useEncodeDefaulter:!0})},a.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},a.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},a.prototype.brushSelector=function(t,e,a){return a.point(e.getItemLayout(t))},a.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},a.type="series.scatter",a.dependencies=["grid","polar","geo","singleAxis","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},a}(a),x=b,w=function(){},S=function(t){function a(e){var a=t.call(this,e)||this;return a._off=0,a.hoverDataIdx=-1,a}return e(a,t),a.prototype.getDefaultShape=function(){return new w},a.prototype.reset=function(){this.notClear=!1,this._off=0},a.prototype.buildPath=function(t,e){var a,r=e.points,n=e.size,i=this.symbolProxy,o=i.shape,s=t.getContext?t.getContext():t,l=s&&n[0]<4,h=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,a=this._off;a<r.length;){var u=r[a++],c=r[a++];isNaN(u)||isNaN(c)||(h&&!h.contain(u,c)||(o.x=u-n[0]/2,o.y=c-n[1]/2,o.width=n[0],o.height=n[1],i.buildPath(t,o,!0)))}this.incremental&&(this._off=a,this.notClear=!0)}},a.prototype.afterBrush=function(){var t,e=this.shape,a=e.points,r=e.size,n=this._ctx,i=this.softClipShape;if(n){for(t=this._off;t<a.length;){var o=a[t++],s=a[t++];isNaN(o)||isNaN(s)||(i&&!i.contain(o,s)||n.fillRect(o-r[0]/2,s-r[1]/2,r[0],r[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},a.prototype.findDataIndex=function(t,e){for(var a=this.shape,r=a.points,n=a.size,i=Math.max(n[0],4),o=Math.max(n[1],4),s=r.length/2-1;s>=0;s--){var l=2*s,h=r[l]-i/2,u=r[l+1]-o/2;if(t>=h&&e>=u&&t<=h+i&&e<=u+o)return s}return-1},a.prototype.contain=function(t,e){var a=this.transformCoordToLocal(t,e),r=this.getBoundingRect();return t=a[0],e=a[1],r.contain(t,e)?(this.hoverDataIdx=this.findDataIndex(t,e))>=0:(this.hoverDataIdx=-1,!1)},a.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,a=e.points,n=e.size,i=n[0],o=n[1],s=1/0,l=1/0,h=-1/0,u=-1/0,c=0;c<a.length;){var d=a[c++],p=a[c++];s=Math.min(d,s),h=Math.max(d,h),l=Math.min(p,l),u=Math.max(p,u)}t=this._rect=new r(s-i/2,l-o/2,h-s+i,u-l+o)}return t},a}(n),C=function(){function t(){this.group=new i}return t.prototype.updateData=function(t,e){this._clear();var a=this._create();a.setShape({points:t.getLayout("points")}),this._setCommon(a,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var a=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;e=new Float32Array(e.buffer,r,a)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,a){var r=this._newAdded[0],n=e.getLayout("points"),i=r&&r.shape.points;if(i&&i.length<2e4){var o=i.length,s=new Float32Array(o+n.length);s.set(i),s.set(n,o),r.endIndex=t.end,r.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:n}),this._setCommon(l,e,a)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new S({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,a){var r=e.hostModel;a=a||{};var n=e.getVisual("symbolSize");t.setShape("size",n instanceof Array?n:[n,n]),t.softClipShape=a.clipShape||null,t.symbolProxy=o(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var i=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(i?["color","shadowBlur","shadowColor"]:["color"]));var l=e.getVisual("style"),h=l&&l.fill;h&&t.setColor(h);var u=s(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",(function(e){u.dataIndex=null;var a=t.hoverDataIdx;a>=0&&(u.dataIndex=a+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),D=function(t){function a(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.type,e}return e(a,t),a.prototype.render=function(t,e,a){var r=t.getData();this._updateSymbolDraw(r,t).updateData(r,{clipShape:this._getClipShape(t)}),this._finished=!0},a.prototype.incrementalPrepareRender=function(t,e,a){var r=t.getData();this._updateSymbolDraw(r,t).incrementalPrepareUpdate(r),this._finished=!1},a.prototype.incrementalRender=function(t,e,a){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},a.prototype.updateTransform=function(t,e,a){var r=t.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var n=y("").reset(t,e,a);n.progress&&n.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},a.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},a.prototype._getClipShape=function(t){var e=t.coordinateSystem,a=e&&e.getArea&&e.getArea();return t.get("clip",!0)?a:null},a.prototype._updateSymbolDraw=function(t,e){var a=this._symbolDraw,r=e.pipelineContext.large;return a&&r===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=r?new C:new g,this._isLargeDraw=r,this.group.removeAll()),this.group.add(a.group),a},a.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},a.prototype.dispose=function(){},a.type="scatter",a}(l),A=D;var I=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"widget-chart-line",attrs:{id:t.domid}})},L=[];h([v,_,function(t){h(m),t.registerSeriesModel(x),t.registerChartView(A),t.registerLayout(y("scatter"))},u]);var M={},N=p({name:"ChartScatter",props:{data:{type:Array,require:!0,default:function(){return[]}},colors:{type:String,require:!1,default:function(){return c[0]}},name:{type:Array,require:!0,default:function(){return[]}}},data:function(){return{domid:"domid-".concat(parseInt(1e8*Math.random())),chartObj:null}},watch:{data:{handler:function(){Array.isArray(this.data)&&this.data.length>0&&this.render()},deep:!0}},methods:{handleArray:function(t){var e=this,a=[],r=[];return(a=this.data.slice(2*t,2*(t+1))).forEach((function(n,i){var o=i+1;o<a.length&&n.value.forEach((function(i,s){var l=[],h=1e8*Math.floor(10*Math.random()+1);l.push(i,a[o].value[s],h,n.label[s],e.name[t]),r.push(l)}))})),r},hanleData:function(){for(var t=parseInt(this.data.length/2),e=[],a=0;a<t;a++){var r=[],n=this.handleArray(a);r.push(n);var i={value:r,name:this.name[a]};e.push(i)}return e},render:function(){var t=null,e=null;this.hanleData().forEach((function(a){t=a.name,e=a.value}));var a={grid:{top:"15%",left:"7%",bottom:"15%",right:"5%",containLabel:!0},xAxis:{boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"rgba(0,0,0,0.45)"}},axisTick:{show:!1},axisLabel:{color:"rgba(0,0,0,0.45)",fontSize:12}},yAxis:{type:"value",axisLabel:{color:"rgba(0,0,0,0.45)",interval:"2",fontSize:12},axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(0,0,0,0.15)"}},scale:!0},series:[{name:t,data:e[0],type:"scatter",symbolSize:function(t){return Math.sqrt(t[2])/500},emphasis:{label:{show:!0,formatter:function(t){return t.data[1]+":"+t.data[0]},position:"top"}},itemStyle:{shadowBlur:10,shadowColor:"rgba(120, 36, 50, 0.5)",shadowOffsetY:5,color:this.colors}}]};this.chartObj.setOption(a)}},mounted:function(){this.chartObj&&this.chartObj.dispose(),this.chartObj=d(document.getElementById(this.domid)),Array.isArray(this.data)&&this.data.length>0&&this.render()}},I,L,!1,P,"df311ba2",null,null);function P(t){for(var e in M)this[e]=M[e]}var T=function(){return N.exports}(),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"example"},[a("h2",[t._v("简介")]),a("p",[t._v("基于Echart封装的散点图组件")]),a("h2",[t._v("示例")]),a("p",[t._v("data(Array)：通用图表格式")]),a("p",[t._v("colors(String)：用来描点的颜色；默认全局色表")]),a("p",[t._v("name(Array)：数据名称，数组长度与'data'保持一致")]),a("div",{staticClass:"demo"},[a("chart-scatter",{attrs:{data:t.data,colors:"rgba(91,143,249,0.5)"}})],1),t._m(0)])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("pre",{staticClass:"code"},[t._v("          "),a("textarea",{attrs:{readonly:""}},[t._v('          <chart-scatter :data="data" colors="rgba(91,143,249,0.5)" />\n          ')]),t._v("\n      ")])}],E={},R=p({components:{ChartScatter:T},data:function(){return{data:[{label:["Australia","Canada","China","Cuba","Finland","France","Germany","Iceland","India","Japan","North Korea","South Korea","New Zealand","Norway","Poland","Russia","Turkey","United Kingdom","United States"],value:[28604,31163,1516,13670,28599,29476,31476,28666,1777,29550,2076,12087,24021,43296,10088,19349,10670,26424,37062]},{label:["Australia","Canada","China","Cuba","Finland","France","Germany","Iceland","India","Japan","North Korea","South Korea","New Zealand","Norway","Poland","Russia","Turkey","United Kingdom","United States"],value:[77,77.4,68,74.7,75,77.1,75.4,78.1,57.7,79.1,67.9,72,72,75.4,76.8,70.8,69.6,67.3,75.7]}]}},methods:{},created:function(){}},z,j,!1,O,"3e97d32e",null,null);function O(t){for(var e in E)this[e]=E[e]}t("default",function(){return R.exports}())}}}))}();
