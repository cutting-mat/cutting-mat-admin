!function(){var e=document.createElement("style");e.innerHTML=".bmap[data-v-12d3586f] img{max-width:none}.titleBar[data-v-12d3586f]{font-size:16px;color:#333;padding:12px 20px}.titleBar ._icon[data-v-12d3586f]{color:#fe664e}.list[data-v-12d3586f]{background:#fff;box-sizing:border-box;padding:0 1em}.list ._item[data-v-12d3586f]{border-bottom:1px solid #f5f5f5;padding:10px;color:#999;cursor:pointer}.list ._title[data-v-12d3586f]{font-size:14px;color:#333}.list ._check[data-v-12d3586f]{width:18px;height:18px;border:1px solid #ccc;border-radius:10px}.list .cur ._check[data-v-12d3586f]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAABm0lEQVQ4T62Uv0ojYRTFz5n5RLRY8AESFbdQUDN2a0BQFoxWdhYKW7hPYadgYbHgC+yKK2i/W2kqq6zlBAXFJWgyT6CVYb/kyEz+mI2TGNCvvHPvj3PPnXuJmFdKmUU5WqeQBpCopwQicqzyKJm32fYytgZupzBuXPNDjAAdH4Wcrdivoxe4biQ1QYFn5kX8AvChG6Tl2wOFlYRvz8JYBLqbxAT7zDl7h0Q8AQ/6Zz+NXOIqAhU9kyMx26OS/9Io/En4Ns3blMm4Dk56hVAqCrwHMd2sqWKJxRn3J8EvPYGEG9AuEO6ywO+NGkGHDDz3r8iPr4LqEFXMBF39BjjYrJEKLHnuI8j+luABySEBK8+xmpJYSOS6yjEgfCv4dnPM6zsCtYpuSpq9qRzbmoStpG93As/sgnavo5JnUKGj2SFs2LfbxWnz+YUnbYZGZpdSJoNO468qCwdzAAe6DiMcf5gQeCant/6Q77oidVVvX9pG/+EZcVyz/9rehftlK3Yj9oy0mhkOQI7WHCGt+mEjEFRrh+04mben7eY/AZVvwjNLUdLoAAAAAElFTkSuQmCC) center center no-repeat;border-color:transparent}\n",document.head.appendChild(e),System.register(["./index-legacy.3a0a0cf0.js","./ui-legacy.ce9474e5.js"],(function(e){"use strict";var t;return{setters:[function(e){t=e.n},function(){}],execute:function(){var a,n,r="PxyAUL3q2WMUP6s0ol4PGvVsUbrAG7PG",i={props:{center:{type:Object,required:!1,default:function(){return{lng:121.491,lat:31.233}}},zoomLevel:{type:Number,required:!1,default:14}},data:function(){return{mapId:"BMap_".concat(parseInt(1e8*Math.random())),loading:!1,map:null,marker:null,searchResults:[],currentItem:null}},watch:{center:{handler:function(){this.center&&this.center.lng&&this.center.lat&&this.handleCenter(this.center,this.handleSearch)},deep:!0}},methods:{handleClick:function(e){this.currentItem=e,this.setMaker(e.point),this.$emit("change",e)},setMaker:function(e){this.marker&&(this.map.removeOverlay(this.marker),this.marker=null),this.marker=new n.Marker(new n.Point(e.lng,e.lat)),this.map.addOverlay(this.marker),this.map.panTo(e)},handleCenter:function(e,t){var r=this;!function(e,t,n){if(!a)return null;if("function"==typeof t&&(n=t,t=1),Array.isArray(e)){var r=e.map((function(e){return new a.Point(e.lng,e.lat)}));(new a.Convertor).translate(r,t,5,n)}}([e],(function(e){0===e.status&&(console.log("转换完成",e.points),r.map.centerAndZoom(new n.Point(e.points[0].lng,e.points[0].lat),r.zoomLevel),r.setMaker(e.points[0]),"function"==typeof t&&t(e.points[0]))}))},handleSearch:function(e){var t,n,r,i,l=this;if(this.loading)return null;this.loading=!0,(t=e,n=["景点"],i={},new Promise((function(e,l){if(!t||!n)return l("mapSearch(): 缺少参数");var o=new a.LocalSearch(t,{pageCapacity:50,onSearchComplete:function(t){var a=Array.isArray(n)?n:[n],r=Array.isArray(t)?t:[t],l=a.map((function(e,t){return new Promise((function(e){for(var a=r[t],n=a.getNumPages(),l=a.getPageIndex(),s=0;s<a.getCurrentNumPois();s++){var c=a.getPoi(s);c.uid&&!i[c.uid]&&(i[c.uid]=c)}l<n-1?o.gotoPage(l+1):e(i,o)}))}));Promise.all(l).then((function(){e(Object.keys(i).map((function(e){return i[e]})))}))}});r?o.searchNearby(n,t,r):o.search(n)}))).then((function(e){l.searchResults=e,l.loading=!1}))}},mounted:function(){var e=this;!function(e,t){if(!e||!e.split)return console.warn("缺少参数：ak");var n="bdmap-sdk-by-widget-bmap";if(document.getElementById(n)||a||window.BMap)a=window.BMap,t(a);else{var r="initialize_".concat(parseInt(1e8*Math.random()));window[r]=function(){"function"==typeof t&&(a=window.BMap,t(a))};var i=document.createElement("script");i.id=n,i.src="//api.map.baidu.com/api?v=3.0&ak=".concat(e,"&callback=").concat(r),document.body.appendChild(i)}}(r,(function(t){n=t,e.map=new n.Map(e.mapId),e.center&&e.center.lng&&e.center.lat&&e.handleCenter(e.center,e.handleSearch)}))}},l=t(i,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-col"},[t("div",{staticClass:"bmap flex-1",attrs:{id:e.mapId}}),e._m(0),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"flex-1 scrollbar list"},e._l(e.searchResults,(function(a,n){return t("div",{key:n,staticClass:"_item flex-row align-center",class:{cur:e.currentItem&&e.currentItem.uid===a.uid},on:{click:function(t){return e.handleClick(a)}}},[t("div",{staticClass:"flex-1"},[t("div",{staticClass:"_title el"},[e._v(" "+e._s(a.title)+" ")]),t("div",{staticClass:"el"},[e._v(" "+e._s(a.address)+" ")])]),t("div",{staticClass:"_check"})])})),0)])}),[function(){var e=this._self._c;return e("div",{staticClass:"titleBar"},[e("i",{staticClass:"el-icon-location _icon"}),this._v(" 选择地点 ")])}],!1,null,"12d3586f",null,null).exports;e("default",t({components:{Search:l},data:function(){return{editForm:{album:""},props:[{name:"value",desc:"图片数据，必须含有url字段",type:"Object",options:"-",default:"-"},{name:"placeholder",desc:"上传占位文字",type:"String",options:"-",default:"上传"}],events:[{name:"change",desc:"上传图片成功事件",param:"file[Object]"}]}},methods:{},created:function(){}},(function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("简介")]),t("p",[e._v("地图搜索组件。")]),t("h2",[e._v("示例")]),t("div",{staticClass:"demo"},[t("Search",{staticStyle:{height:"600px"}})],1),e._m(0),t("h2",[e._v("配置")]),t("el-table",{attrs:{data:e.props}},[t("el-table-column",{attrs:{prop:"name",label:"属性"}}),t("el-table-column",{attrs:{prop:"desc",label:"说明"}}),t("el-table-column",{attrs:{prop:"type",label:"类型"}}),t("el-table-column",{attrs:{prop:"options",label:"可选"}}),t("el-table-column",{attrs:{prop:"default",label:"默认"}})],1),t("h2",[e._v("事件")]),t("el-table",{attrs:{data:e.events}},[t("el-table-column",{attrs:{prop:"name",label:"名称"}}),t("el-table-column",{attrs:{prop:"desc",label:"说明"}}),t("el-table-column",{attrs:{prop:"param",label:"参数"}})],1)],1)}),[function(){var e=this,t=e._self._c;return t("pre",{staticClass:"code"},[e._v("      "),t("textarea",{attrs:{readonly:"",rows:"6"}},[e._v('      <Search style="height: 600px" />\n      ')]),e._v("\n  ")])}],!1,null,"094f98ea",null,null).exports)}}}))}();
